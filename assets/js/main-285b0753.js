!function r(o,a,i){function c(e,t){if(!a[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(s)return s(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=a[e]={exports:{}},o[e][0].call(n.exports,function(t){return c(o[e][1][t]||t)},n,n.exports,r,o,a,i)}return a[e].exports}for(var s="function"==typeof require&&require,t=0;t<i.length;t++)c(i[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatNumber=function(t){return String(t).split("").reverse().reduce(function(t,e,n){return n&&n%3==0&&t.push(" "),t.push(e),t},[]).reverse().join("")},n.pageTypeToConvocation=function(t){switch(t){case"duma_7":return 7;case"duma_8":case"sf":return 8}return null}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFraction=n.FRACTION=void 0;var r=(t=t("lodash/find"))&&t.__esModule?t:{default:t};var o={er:{name:"Единая Россия",alias:["Единая Россия"],color:"is-color-er",id:1,slug:"er"},kprf:{name:"КПРФ",alias:["КПРФ"],color:"is-color-red",id:2,slug:"kprf"},nl:{name:"Новые люди",alias:["Новые люди"],color:"is-color-mint",id:3,slug:"nl"},sr:{name:"Справедливая Россия",alias:["Справедливая Россия"],color:"is-color-orange",id:5,slug:"sr"},ldpr:{name:"ЛДПР",alias:["ЛДПР"],color:"is-color-yellow",id:9,slug:"ldpr"},vne:{name:"Вне фракции",alias:["Вне фракции","беспартийный","беспартийная"],color:"is-color-gray",id:0,slug:"vne"}};n.FRACTION=o;n.getFraction=function(e){if(e.fraction){var t=(0,r.default)(o,function(t){return t.alias.some(function(t){return t===e.fraction})});if(t)return t;t=(0,r.default)(o,function(t){return t.id===e.fraction});if(t)return t}if(e.fraction_old){t=(0,r.default)(o,function(t){return t.alias.some(function(t){return t===e.fraction_old})});if(t)return t}return o.vne}},{"lodash/find":120}],3:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.getRating=function(e,t,n){var r=t.find(function(t){return t.id_declarator==e}),t=o.max(t.map(function(t){return+t.podpis/(+t.vnes+t.podpis)*10+1}));r=r||{no:!0,vnes:-1,podpis:-1,sred_day:-1};t=[1,t],n=n?[8,14]:[4,10],t=o.scaleLog().domain(t).range(n),n=1;r.no||(n=r.podpis/(r.podpis+r.vnes)*10+1);r.vnes<5&&(n=1);r.no&&(n=1);t=t(n);return r.log=t,r};var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}},{d3:"d3"}],4:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}t("./tools/burger"),t("./modules/data"),t("./modules/intro"),t("./modules/accordion"),t("./modules/legend"),t("./modules/about"),t("./modules/header"),window.d3=r},{"./modules/about":5,"./modules/accordion":6,"./modules/data":9,"./modules/header":10,"./modules/intro":11,"./modules/legend":13,"./tools/burger":14,d3:"d3"}],5:[function(t,e,n){"use strict";var r,o=(r=t("jquery"))&&r.__esModule?r:{default:r};"page-about"===(0,t("./layout_vars").getLayoutVars)().layout&&(document.documentElement.style.overflowY="auto",(0,o.default)(window).scroll(function(){for(var t=(0,o.default)(document).scrollTop(),e=(0,o.default)("body").find(".md-page-section"),n=0;n<e.length;n++)t+110>(0,o.default)(e[n]).offset().top&&t<(0,o.default)(e[n]).offset().top+(0,o.default)(e[n]).height()-50?(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).addClass("active"):(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).removeClass("active");200<document.body.scrollTop||200<document.documentElement.scrollTop?document.getElementById("scrollToTop").style.display="block":document.getElementById("scrollToTop").style.display="none"}),(0,o.default)(document).on("click",'a[href^="#"]',function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:(0,o.default)(o.default.attr(this,"href")).offset().top},500)}),(0,o.default)(document).on("click","#scrollToTop",function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:0},500)}))},{"./layout_vars":12,jquery:"jquery"}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(t=t("jquery"))&&t.__esModule?t:{default:t};var o="accordion:toggle";function a(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,t=(0,r.default)(t);e?(t.addClass("accordion_expand"),t.find(".accordion__content").slideDown(n)):(t.removeClass("accordion_expand"),t.find(".accordion__content").slideUp(n))}(0,r.default)("body").on("click",".accordion__title",function(){var t=(0,r.default)(this).closest(".accordion"),e=!t.hasClass("accordion_expand");a(t,e),t.trigger(o,e)}),n.default={EVENT_TOGGLE:o,toggle:a}},{jquery:"jquery"}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(t("jquery")),r=t("liquidjs"),l=a(t("../tools/tree")),u=t("../lib/common"),f=a(t("../tools/pluralize")),o=t("./layout_vars"),d=a(t("./accordion"));function a(t){return t&&t.__esModule?t:{default:t}}function p(t){throw new TypeError('"'+t+'" is read-only')}var y,h,_=new r.Liquid,t="default"===(0,o.getLayoutVars)().layout,v="sf"===(0,o.getLayoutVars)().type,m=(0,u.pageTypeToConvocation)((0,o.getLayoutVars)().type),b=v?"person_sf/":"person/",g="https://docs.google.com/forms/d/1Qaw8qWfw2PPZPtpF1PV4EyNGekXesM2qRLzwurgjHbA/viewform?edit_requested=true",x=null,w=null,j=new Set,A=0;function i(){y.hide(),y.html(""),w=x=null,A=0,j.clear(),window.dispatchEvent(new Event("closeCard")),window.history&&window.history.pushState&&window.history.pushState("backward",null,v?"./sf":"./")}function c(){var t=x,e=t.depInfo,n=t.depRating,r=t.depLobbys,o=t.depSuccessRate,a=t.lobby_list,t=function(){var t,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return 1===(null==(t=t.main)||null==(t=t.document_type)?void 0:t.id)}).reduce(function(t,e){return!t||e.main.year>t.main.year?e:t},null);return e?(t=e.real_estates.reduce(function(t,e){return t+e.square},0),e=e.incomes.reduce(function(t,e){return t+e.size},0),{square:(0,u.formatNumber)(Math.round(t)),income:(0,u.formatNumber)(Math.round(e))}):{square:null,income:null}}(t.declarations.results),i=t.square,t=t.income,o=(o=(o=o.success_rate)["convocation_".concat(m)]||{},c=o.rate,{lawStatProposed:(o=o.filtered_number)||0,lawStatAccepted:Math.round(o*c/100)||0}),c=o.lawStatProposed,o=o.lawStatAccepted;y.html(_.renderSync(h,{selectedLaw:w,info:e,rating:n,lobbys:r,lastUpdate:null,editing:!1,income:t,square:i,fractionClass:{"Единая Россия":"er","КПРФ":"kprf","ЛДПР":"ldpr","Справедливая Россия":"sr","Новые люди":"nl"}[e.fraction]||"vne",positionHtml:(v?function(t){var e=t.committee,n=(null==(n=t.gender)?void 0:n.toLowerCase())||"м",r=t.region.genitive,o=t.goverment_body,a=t.position;"0"!==e&&null!=e&&""!==e||p("comitet");o.replace("исполнительный ","исполнительным "),p("chem"),o.replace("законодательный ","законодательным "),p("chem"),o.replace("орган ","органом "),p("chem"),p("chem");a+=e.replace("Комитет "," ");" "!==e&&(a+=", ");e="ж"==n||"f"==n?"делегирована ":"делегирован ",n="в Совете Федерации с "+t.start_year+" года";return a+e+o+n+". Представитель "+r}:function(t){var e=t.committee||"",n=t.election_method,r=t.convocations.length||1,t=t.gender?t.gender.toLowerCase():"м",o=e.replace("Комитет ГД ","Член комитета ");e&&(o+=", ");e="ж"==t||"f"==t?"избрана":"избран",t=2==r||3==r||4==r?" раза":" раз";return o+e+("одномандатный округ"==n?" по одномандатному округу":" по списку")+", "+(1==r?e+" впервые":e+" "+r+t)})(e),tempComissionHtml:v?function(t){t=(t||[]).map(function(t){return"<li>".concat(t.charAt(0).toUpperCase()+str.slice(1),"</li>")});return t.length?"<ul>".concat(t.join(""),"</ul>"):""}(e.temp_commission):"",lobbyHtml:function(t,n){var e=[],r=(t.forEach(function(t){t=l.default.findAncestors(t,n);e.push(t.map(function(e){return n.find(function(t){return t.id==e}).name}))}),"");e.length&&e.forEach(function(t,e,n){0!==e&&t[0]===n[e-1][0]||(r+="<h3>".concat(t[0].toLowerCase().replace(" лобби",""),"</h3>")),(t=t.slice(1)).length&&(r+="<ul>",e=(null==(n=t[0])||null==(e=n.charAt(0))?void 0:e.toUpperCase())+(null==(n=t[0])?void 0:n.slice(1)),r+="<li>".concat(e,"</li>"),t=t.slice(1),r+='<div class="content"><ul>',t.forEach(function(t){t=t.charAt(0).toUpperCase()+t.slice(1),r+="<li>".concat(t,"</li>")}),r+="</ul></div></ul>")});return'<div class="card__lobby-matrix">'.concat(r,"</div>")}(e.groups,a),twPerson:"https://twitter.com/intent/tweet?url=http%3A%2F%2Fdumabingo.ru/".concat(b).concat(e.person,"&text=").concat(e.fullname),vkPerson:"http://vk.com/share.php?url=http%3A%2F%2Fdumabingo.ru/".concat(b).concat(e.person),openDeclaration:e.person?"https://declarator.org/person/".concat(e.person):null,openRupep:e.rupe?"https://rupep.ru/person/".concat(e.rupep):null,sendForm:g+"viewform?entry.742555963=".concat(e.fullname),laws:null!=(r=e.law_draft_apis)&&r.length?e.law_draft_apis:null,lawStatProposed:c,lawStatAccepted:o,lawTextBringHtml:(0,f.default)(c,"закон<br>выдвинут","закона<br>выдвинуто","законов<br>выдвинуто"),lawTextPassed:(0,f.default)(o,"принят","принято","принято"),lawTextDay:(0,f.default)(Math.floor(String(n.sred_day).replace(",",".")),"день","дня","дней"),sredDay:Math.floor(String(n.sred_day).replace(",","."))})),w||y.find(".accordion").each(function(){var t=(0,s.default)(this).attr("data-id");j.has(t)&&d.default.toggle(this,!0,0)}),y.scrollTop(A)}t&&(r=(y=(0,s.default)("#card")).find("#card_template").html(),h=_.parse(r),y.html(""),y.on("click","#scrollToTop",function(t){t.preventDefault(),y.animate({scrollTop:0},500)}),y.on("scroll",function(){200<y.scrollTop()?y.find("#scrollToTop").show():y.find("#scrollToTop").hide()}),y.on(d.default.EVENT_TOGGLE,".card__main-info .accordion",function(t,e){var n=(0,s.default)(this).attr("data-id");e?j.add(n):j.delete(n)}),y.on("click",".card__law-details-button",function(t){t.preventDefault();t=(0,s.default)(this).closest(".card__law").attr("data-id");w=t,A=y.scrollTop(),c()}),y.on("click",".card__law-back-button",function(t){t.preventDefault(),w=null,c()}),y.on("click","#close_btn",i),(0,s.default)(window).on("popstate",i)),n.default=function(t){var e=t.depInfo,n=t.depRating,r=t.depLobbys,o=t.depSuccessRate,a=t.lobby,t=t.declarations;window.history&&window.history.pushState&&window.history.pushState({person:e.person},null,(v?"./sf#id":"./#id")+e.person),x={depInfo:e,depRating:n,depLobbys:r,depSuccessRate:o,lobby_list:a,declarations:t},A=0,j.clear(),y.show(),c()}},{"../lib/common":1,"../tools/pluralize":15,"../tools/tree":18,"./accordion":6,"./layout_vars":12,jquery:"jquery",liquidjs:"liquidjs"}],8:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var U,$,Y,e,X,J,Q,Z,tt,i,c,et,nt,rt,ot,at,it=(0,o.default)("gates_tooltip",240),l=window.location.hash?window.location.hash.substring(1):null;function s(){var t=document.getElementById("scrollytelling");t.style.opacity=0,document.documentElement.style.overflowY="auto",setTimeout(function(){t.style.display="none"},200)}function n(){var t=600/(c.width/c.height),e=ut.select("#root").append("svg"),a=(e.attr("viewBox",[0,0,600,20+t]),e.append("g")),t=i.slice().sort(function(t,e){return t.dupelganger-e.dupelganger}).sort(function(t,e){return t.id-e.id});function n(e){0;function t(t){return 1===e?1===t.group?"tellingCircle":"tellingCircleGray":2===e?11593===t.group?"tellingCircle":"tellingBluredCircle":3===e?11551===t.group||11739===t.group?"tellingCircle":"tellingBluredCircle":4!==e?"tellingCircle":10528===t.id?"tellingCircleAlt":10724===t.id?"tellingCircle":"tellingBluredCircle"}var n=u.default.updater(e),r=n.deps,n=n.labels,o=ut.transition().duration(300).ease(ut.easeLinear),r=a.selectAll("circle").data(r,function(t){return t.unq}),r=(r.enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("class",t).attr("r",3).attr("name",function(t){return"".concat(t.name," ").concat(t.unq)}),r.exit().transition(o).attr("r",0),r.exit().transition().delay(1e3).remove(),r.transition(o).attr("r",3).attr("class",t).attr("name",function(t){return"".concat(t.name," ").concat(t.unq)}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),a.selectAll("text").data(n,function(t){return t.text}));r.enter().append("text").text(function(t){return t.text}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("class","tellingLabel").attr("fill","black"),r.exit().remove(),r.transition(o).attr("x",function(t){return t.x}).attr("y",function(t){return t.y})}ut.nest().key(function(t){return t.cluster}).rollup(function(t){return{count:t.length,name:t[0]&&t[0].clusterName}}).entries(t).slice().sort(function(t,e){return e.value.count-t.value.count}).slice(1,10).forEach(function(t,e){return t.order=e}),u.default.setDeps(t),n(l?4:0);e=document.getElementsByClassName("section");var r=Array.prototype.map.call(e,function(t,e){if("DIV"===t.nodeName)return{i:e,offsetTop:t.offsetTop,offsetHeight:t.offsetHeight}}).reverse(),o=document.getElementById("scrollytelling"),t=(o.addEventListener("scroll",function(){var t=r.find(function(t){return t.offsetTop-o.getBoundingClientRect().height+100<o.scrollTop});if(t){var e=t.i;if(t&&null!=e)switch(e){case 0:0;case 1:case 2:case 3:u.default.setDonutRadius(0),n(e);break;case 4:u.default.setHalf(0),n(e)}}}),l&&s(),document.getElementById("close_cross")),e=document.getElementById("go_to_lobby_map");t.addEventListener("click",function(t){s()}),e.addEventListener("click",function(t){s()})}function ct(){var t=document.getElementsByTagName("header")[0].clientHeight,e=document.getElementById("controls").clientHeight,t=t+document.getElementsByClassName("footer")[0].clientHeight+e-document.getElementsByClassName("extra")[0].clientHeight,e=(document.body.className+=" chart",document.body.className="chart",document.documentElement.clientWidth),t=document.documentElement.clientHeight-t;et=!st()&&90!=window.orientation&&e<=812?812:e,nt=t-5,ut.select("#clusters svg#chart").attr("height",nt).attr("width",et),ut.select("#clusters svg#chart").attr("viewBox","-100 0 1200 600").attr("preserveAspectRatio","xMidYMid meet").attr("class","desktop"),rt=800,ot=600}function st(){return document.documentElement.clientWidth<=450}function r(){var _=tt.filter(Boolean),D=(_.sort(function(t,e){return e.count-t.count}),_.sort(function(t,e){return t.clusterParent-e.clusterParent}),Z.concat(_)),B=ut.scaleLinear().domain([0,8]).range([50,rt]),z=ut.scaleLinear().domain([0,8]).range([100,ot]);function e(e){var t=_.find(function(t){return t.cluster==e});return{x:B(t.col),y:z(t.row)}}_[0].col=0,_[0].row=0,_.forEach(function(t){var e=t;switch(e.clusterParent){case 11739:e.col=.2,e.row=1.7,Q&&(e.col=8.9,e.row=1.4);break;case 11679:e.col=4.6,e.row=2.2,Q&&(e.col=.2,e.row=1.7);break;case 11593:e.col=8.9,e.row=1.4,Q&&(e.col=4.6,e.row=2.2);break;case 11550:e.col=1.9,e.row=5.5;break;case 11727:e.col=8.5,e.row=5.9;break;default:e.col=6.4,e.row=6.1}11738==e.cluster&&(e.col=4.5,e.row=6.5)}),at.append("g").attr("class","encloses"),Y.forEach(function(e){at.select("g.encloses").append("path").attr("class","enclose").attr("fill","none").attr("id","enclose"+e.id),at.select("g.encloses").append("text").attr("id","encloseText"+e.id).attr("dy",-7.5).append("textPath").attr("xlink:href","#enclose"+e.id).attr("startOffset","25%").style("text-anchor","middle").text(function(){var t=e.alias.toUpperCase();return t=t.charAt(0).toUpperCase()+t.slice(1)})});for(var n,r,t=ut.forceX(function(t){return e(t.cluster).x}),o=ut.forceY(function(t){return e(t.cluster).y}),a=0,i=ut.forceSimulation().nodes(Z.sort(function(t,e){return t.cluster-e.cluster})).force("collide",function(){var e=ut.quadtree().x(function(t){return t.x}).y(function(t){return t.y}).addAll(Z);Z.forEach(function(l){var t=l.r+Math.max(3,15),u=l.x-t,f=l.x+t,d=l.y-t,p=l.y+t;e.visit(function(t,e,n,r,o){var a,i,c,s;return t.data&&t.data!==l&&(a=l.x-t.data.x,i=l.y-t.data.y,(c=Math.sqrt(a*a+i*i))<(s=l.r+t.data.r+(l.cluster===t.data.cluster?3:15)))&&(l.x-=a*=c=(c-s)/c*.5,l.y-=i*=c,t.data.x+=a,t.data.y+=i),f<e||r<u||p<n||o<d})})}).force("cluster",function(i){Z.forEach(function(e){var t,n,r,o,a=_.find(function(t){return t.cluster==e.cluster});a!==e&&(t=e.x-a.x,n=e.y-a.y,(r=Math.sqrt(t*t+n*n))!==(o=e.r+a.r))&&(e.x-=t*=r=(r-o)/r*i,e.y-=n*=r,a.x+=t,a.y+=n)})}).force("x",t.strength(.1)).force("y",o.strength(.1)).alphaDecay(.04).on("end",function(){0==a&&F.alpha(1).restart(),a=1}).stop(),c=0,N=Math.ceil(Math.log(i.alphaMin())/Math.log(1-i.alphaDecay()));c<N;++c)i.tick();var v,m,F=ut.forceSimulation().nodes(_.filter(function(t){return 10<t.count})).force("gravity1",ut.forceManyBody(-10).distanceMax(50).distanceMin(0)).alpha(0).on("tick",function(){g.attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")})}),b=at.append("g").datum(Z).selectAll(".circle").data(function(t){return t}).enter().append("circle").attr("r",function(t){return t.r}).attr("class",function(t){return t.color}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).on("mouseover",function(e){e.id!=l&&(s=!1);(function(t){var e=t.cluster;g.filter(function(t){return t.cluster==e}).classed("hovered",!0)})(e),q(e);var t=$.find(function(t){return t.id===e.clusterMin}),n="";Array.isArray(e.cloneClusters)&&(n=e.cloneClusters.map(function(e){return $.find(function(t){return t.id==e})}));I(),T(e.id);var r='<span class="name">'.concat(e.name," </span><br/>");r+=Q?'<span class="value">'.concat(mt.FRACTION[e.fraction].name,", ").concat(e.total_years," ").concat((0,vt.default)(e.total_years,"год в СФ","года в СФ","лет в СФ"),"</span><br/>"):'<span class="value">'.concat(mt.FRACTION[e.fraction].name,", ").concat(e.convocations," ").concat((0,vt.default)(e.convocations,"созыв","созыва","созывов"),"</span><br/>");""==n&&(r+='<span class="value">'.concat(t.name,"</span><br/>"));""!=n&&(r+='<span class="value">'.concat(n.map(function(t){return t.name}),"</span><br/>"));it.showTooltip(r,ut.event)}).on("mouseout",function(t){s||(at.select("g.links").remove(),I());it.hideTooltip(),g.classed("hovered",!1)}).on("click",E),g=at.append("g").datum(_).selectAll(".g").data(function(t){return t}).enter().append("g").attr("class","lobby_label").style("opacity",0).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")}).each(function(e){var t=$.find(function(t){return e.clusterName==t.name}).alias;ut.select(this).append("text").text(t.charAt(0).toUpperCase()+t.slice(1)).each(H).each(R)}),s=!1,l=!1,x=ut.select("#clusters > svg#chart"),G=ut.select("svg#chart > g").attr("class","all"),w=1,u=ut.zoomIdentity.translate(0,0).scale(1),j=ut.zoom(),t=document.getElementById("chart").viewBox.baseVal.width,o=document.getElementById("chart").viewBox.baseVal.height,f=document.getElementById("chart").viewBox.baseVal.x,d=document.getElementById("chart").viewBox.baseVal.y,p=st()?10:5;function R(){var t=this.getBBox().width+4,e=this.getBBox().height,n=this.getBBox().x-2,r=this.getBBox().y;ut.select(this.parentNode).insert("rect","text").attr("x",n).attr("y",r).attr("width",t).attr("height",e).attr("class","backForLabel")}function H(){for(var t,e=ut.select(this),n=e.text().split(/\s+/).slice(0,3).reverse(),r=[],o=e.text(null).attr("y",-n.length/2+"em");t=n.pop();)r.push(t),o.text(r.join(" ")),50<o.node().getComputedTextLength()&&(r.pop(),o.text(r.join(" ")),r=[t],o=e.append("tspan").attr("x",0).attr("dy","1em").text(t))}j.scaleExtent([1,p]).translateExtent([[f,d],[t,o]]).extent([[f,d],[t,o]]).on("zoom",function(){ht.default.zoom_actions(G,w,x)}).on("end",function(){w=ut.event.transform.k,ht.default.zoomEndFunction(g,_,j,Q)}),ut.select("#zoom-in").on("click",function(){ut.event.preventDefault(),j.scaleBy(x.transition().duration(400),1.3)}),ut.select("#zoom-out").on("click",function(){ut.event.preventDefault(),j.scaleBy(x.transition().duration(400),1/1.3)}),ut.select("#zoom-home").on("click",function(){ut.event.preventDefault(),ht.default.zoom_reset(g,x,j,u)}),x.call(j).on("wheel.zoom",null),window.onresize=function(t){ct()},P(),h("select_committees","Комитет","committees"),h("select_position_gd","Должность в ГД","positions"),h("select_region","Регион","region");var p=document.getElementById("convocations"),f=document.getElementById("age"),V=(v=ft.default.create(p,{start:[Q?0:1,A()],step:1,connect:!0,range:{min:Q?0:1,max:A()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("slider-snap-value-lower"),document.getElementById("slider-snap-value-upper")]),W=(m=ft.default.create(f,{start:[O(),M()],step:1,connect:!0,range:{min:O(),max:M()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("age-slider-snap-value-lower"),document.getElementById("age-slider-snap-value-upper")]),y=(v.on("update",function(t,e){V[e].innerHTML=t[e]}),m.on("update",function(t,e){W[e].innerHTML=t[e]}),m.on("change",function(){S()}),v.on("change",function(){S()}),document.getElementById("search"));function h(t,e,n){var r=[];U.forEach(function(t){var e=t[n];Array.isArray(e)?e.forEach(function(t){r.push({key:t})}):r.push({key:t[n]})});var o=ut.nest().key(function(t){return t.key}).entries(r).flatMap(function(t){return t.key}).sort(ut.ascending),t=ut.select("#controls").select("select#"+t).on("change",S);t.append("option").text(e).attr("value",-1),t.selectAll("option.opt").data(o).enter().append("option").attr("value",function(t){return t}).text(function(t){return"committees"==n?t&&t.replace("Комитет ГД п","П"):t})}function A(){return Q?Math.max.apply(Math,gt(U.map(function(t){return+t.total_years}))):Math.max.apply(Math,gt(U.map(function(t){return+t.convocations})))}function O(){return Math.min.apply(Math,gt(U.map(function(t){return+t.age})))}function M(){return Math.max.apply(Math,gt(U.map(function(t){return+t.age})))}function k(t){return document.querySelector(t).viewBox.baseVal}function S(t){(0,lt.default)(".hero-body").removeClass("is-loading");var e,n,r,o,a,i,c,s,l,u=ut.select("input#search").property("value"),f=ut.select("select#select_lobby").property("value"),d=(Q&&(e=ut.select("select#select_region").property("value")),-1!=f&&""!=f&&!function(e){if(e){var t=ut.select("#enclose"+e);if(!t.node()){var n=Z.find(function(t){return t.cluster==e||t.clusterMin==e}),r=$.find(function(t){return t.id==n.clusterParent});if(!r)return;if(t=ut.select("#enclose"+r.id),x.attr("data-current_enclose")==r.id)return;x.attr("data-current_enclose",r.id)}e=t,nt=st()?document.documentElement.clientHeight-80:k("svg#chart").height,et=k("svg#chart").width;var r=e.node().getBBox(),t=[[r.x+void 0,r.y+void 0],[r.x+void 0+r.width,r.y+void 0+r.height]],r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=(t[0][0]+t[1][0])/2,t=(t[0][1]+t[1][1])/2,r=Math.max(1,Math.min(5,.9/Math.max(r/et,o/nt))),o=[et/2-r*a-30,nt/2-r*t+30],a=ut.zoomIdentity.translate(o[0],o[1]).scale(r);x.transition().duration(450).call(j.transform,a)}}(f),ut.select("select#select_committees").property("value")),p=v.get(),y=m.get(),h=(null!=ut.selectAll("#fraction .is-active").node()&&1==ut.selectAll("#fraction .is-active").size()&&(n=ut.select("#fraction .is-active").property("value")),null!=ut.selectAll("#method .is-active").node()&&(r=ut.select("#method .is-active").property("value")),null!=ut.selectAll("#gender .is-active").node()&&(o=ut.select("#gender .is-active").property("value")),Q&&null!=ut.selectAll("#power .is-active").node()&&(a=ut.select("#power .is-active").property("value")),b.filter(function(t){return(""==u||t.name.toLowerCase().includes(u.toLowerCase())||t.clusterName.toLowerCase().includes(u.toLowerCase()))&&(-1==f||!f||t.cluster==f||t.cloneClusters.includes(+f)||t.clusterParent==f||t.clusterMin==f||t.clusterParentMiddle==f)&&(!Q||!e||-1==e||t.region==e)&&(-1==d||t.committees.includes(d))&&(!!Q||+t.convocations>=+p[0]&&+t.convocations<=+p[1])&&(!Q||+t.total_years>=+p[0]&&+t.total_years<=+p[1])&&+t.age>=+y[0]&&+t.age<=+y[1]&&(!n||n==t.fraction||n==t.fraction_sf)&&(!r||t.election_method==r)&&(!o||t.gender==o)&&(!a||t.goverment_body==a)}));h.size()!=b.size()?t||ut.select("#clear").classed("is-hidden",!1):ut.select("#clear").classed("is-hidden",!0),i=h,c=b.size(),s=c,l=ut.transition().duration(10).ease(ut.easeLinear),b.classed(function(t){return t.color},!0).transition().style("opacity",.2).on("end",function(){var e,t,n;0===--s&&0<--c&&(i.transition(l).style("opacity",1),g.transition().style("opacity",0),e=i.data().map(function(t){return t.cluster}),t=_.filter(function(t){return e.includes(t.cluster)}),n=(0,yt.default)(t,w,Q).map(function(t){return t.cluster}),g.filter(function(t){return n.includes(t.cluster)}).transition().style("opacity",1))})}function C(){ut.select("#clear").classed("is-hidden",!0),x.attr("data-current_enclose",null),v.reset(),m.reset(),ut.selectAll("#search").property("value",""),ut.selectAll("#controls button").classed("is-active",!1),ut.selectAll("#controls #fraction button").classed("is-active",!0),ut.selectAll("select").property("selectedIndex",0),b.classed(function(t){return t.color},!0).transition().style("opacity",1);var e=(0,yt.default)(_,w,Q).map(function(t){return t.cluster});g.style("opacity",0).filter(function(t){return e.includes(t.cluster)}).transition().style("opacity",1),ht.default.zoom_reset(g,x,j,u)}function P(){Y.forEach(function(e){var t,n=at.select("path.enclose#enclose"+e.id),r=D.filter(function(t){return t.clusterParent==e.id}),r=ut.packEnclose(r);r&&(t=ut.arc().innerRadius(Math.max(50,r.r)).outerRadius(Math.max(50,r.r)).startAngle(3.14/180*-180).endAngle(3.14/180*180),n.transition().duration(100).attr("transform","translate(".concat(r.x,",").concat(r.y,")")).attr("d",t()))}),b.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),g.attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")}),n&&r.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}function E(t){s=!0,l=t.id,I(),q(t),T(t.id),e=t.id,L(),b.filter(function(t){return t.id==e}).classed("activeCircle",!0),(0,lt.default)("#clusters").addClass("is-loading");var e,n,r=(0,bt.getRating)(t.person,J,Q),o=(a=t.groups,n="",a.forEach(function(e,t){0<t&&(n+=", "),n+=$.find(function(t){return t.id==e}).name}),n),a="https://declarator.org/api/lobbist/".concat(t.lobbist,"/"),i="https://declarator.org/api/v1/search/sections/?person=".concat(t.person),t="https://declarator.org/api/persons/".concat(t.person,"/success_rate");Promise.all([ut.json(a),ut.json(i),ut.json(t)]).then(function(t){e=3;var t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],s=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||xt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=t[0],n=t[1],t=t[2];(0,lt.default)("#clusters").removeClass("is-loading"),new pt.default({depInfo:e,depRating:r,depLobbys:o,depSuccessRate:t,lobby:$,declarations:n})})}function T(e){b.filter(function(t){return t.id===e}).attr("stroke","#000").attr("stroke-width","2px")}function I(){b.attr("stroke","none")}function L(){b.classed("activeCircle",!1)}function q(e){var t=Z.filter(function(t){return t.id==e.id}).map(function(t){return{source:e.uniq,target:t.uniq,value:1}});n=t.map(function(t){return Object.create(t)}),at.select("g.links").remove(),r=at.insert("g",":first-child").classed("links",!0).attr("stroke","#999").selectAll("line").data(n).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),i.force("link",ut.forceLink(n).id(function(t){return t.uniq}).strength(0)),P()}new dt.default(y,{list:X.map(function(t){return t.fullname})}),y.addEventListener("awesomplete-highlight",function(t){y.value=t.text.value,S()}),y.addEventListener("awesomplete-selectcomplete",function(){S()}),ut.selectAll("#presets-first a").nodes().forEach(function(t){var e=t.getAttribute("data-lobby"),n=t.getAttribute("data-age_min"),r=t.getAttribute("data-age_max"),o=t.getAttribute("data-conv_min"),a=t.getAttribute("data-conv_max"),i=t.getAttribute("data-method"),c=t.getAttribute("data-comittee"),s=t.getAttribute("data-gender"),l=t.getAttribute("data-fio"),u=t.getAttribute("data-fraction"),f=t.getAttribute("data-power");t.addEventListener("click",function(t){t.preventDefault(),C(),n&&r&&m.set([n,r]),o&&a&&v.set([o,a]),i&&ut.select('#method button[value="'.concat(i,'"]')).classed("is-active",!0),u&&ut.selectAll("#fraction button").classed("is-active",!1),ut.select('#fraction button[value="'.concat(u,'"]')).classed("is-active",!0),c&&ut.select("select#select_committees").property("value",c),s&&ut.select('#gender button[value="'.concat(s,'"]')).classed("is-active",!0),l&&ut.select("input#search").property("value",l),e&&ut.select("select#select_lobby").property("value",+e),f&&ut.select('#power button[value="'.concat(f,'"]')).classed("is-active",!0),S()})}),$.forEach(function(t){null==t.parent&&(t.parent=1)}),$.push({id:1,name:"root",parent:"0"}),d=_t.default.list_to_tree($.sort(function(t,e){return t.order-e.order})),t=[],_t.default.tree_to_collection(d[0],"children",{},t),d=ut.select("#controls").select("select#select_lobby").on("change",S),ut.selectAll(".buttons button").on("click",function(){var t=ut.select(this.parentNode).selectAll("button");ut.select(this).classed("is-active")?"fraction"!=ut.select(this.parentNode).attr("id")?ut.select(this).classed("is-active",!1):(1<ut.select(this.parentNode).selectAll("button.is-active").size()?t.classed("is-active",!1):t.classed("is-active",!0),ut.select(this).classed("is-active",!0)):(t.classed("is-active",!1),ut.select(this).classed("is-active",!0)),S()}),d.append("option").text("Группа интересов").attr("value",-1),d.selectAll("option.opt").data(t).enter().append("option").classed("opt",!0).attr("value",function(t){return t.id}).text(function(t){var e,n=+t.level;return 0==n&&(e=" "),1==n&&(e="    "),2==n&&(e="        "),0==n?e+t.name.toUpperCase():e+t.name}).each(function(t){0==t.level&&((t=document.createElement("option")).disabled=!0,this.nextSibling)&&this.parentNode&&this.parentNode.insertBefore(t,this)}).each(function(e){0==Z.filter(function(t){return t.cluster==e.id||t.clusterParent==e.id||t.clusterParentMiddle==e.id||t.clusterMin==e.id}).length&&(ut.select(this).property("disabled",!0),ut.select(this).remove())}),S("init"),ut.select("#search").on("keyup",S),ut.select("#clear").on("click",C);var K=window.location.hash;K&&(o=Z.find(function(t){return t.person==K.replace("#id","")}))&&(s=!0,E(o),b.classed(function(t){return t.color},!0).transition().style("opacity",1)),window.addEventListener("closeCard",function(){at.select("g.links").remove(),I(),L(),s=!1})}a.default.then(function(t){var s;U=t.data,$=t.lobby,Y=t.lobby_level_0,t.myGroups,e=t.myArrGroups,X=t.rawDep,J=t.rawRating,Q=t.isSF,at=ut.select("#clusters").append("svg").attr("id","chart").append("g"),ct(),t=e.length,tt=new Array(t),s=0,(Z=U.map(function(e){var t,n,r=$.find(function(t){return t.id===e.group}),o=(0==r.level&&(t=r.id),1==r.level&&(t=$.find(function(t){return t.id==r.parent}).id),2==r.level&&(t=$.find(function(t){return t.id==$.find(function(t){return t.id==r.parent}).parent}).id,n=$.find(function(t){return t.id==r.parent}).id,c=$.find(function(t){return t.id==r.parent}).name),+e.group),a=n||o,i=e.rating,c=(e={person:e.person,name:e.name,fraction:e.fraction,id:e.id,lobbist:e.lobbist,groups:e.groups,gender:e.gender,age:e.age,cluster:n||o,clusterMin:o,clusterName:n?c:r.name,clusterLevel:r.level,clusterParent:t,clusterParentMiddle:n||null,color:null==(o=mt.FRACTION[e.fraction])?void 0:o.color,election_method:e.election_method,committees:e.committees,convocations:e.convocations,uniq:s++,r:e.rating,region:e.region,goverment_body:e.goverment_body,total_years:e.total_years,x:+et/2+Math.random(),y:+nt/2+Math.random()},tt[a]?tt[a].count+1:1);return(!tt[a]||i>tt[a].r)&&(tt[a]=e),tt[a].count=c,e})).sort(function(t,e){return e.count-t.count}),Z.sort(function(t,e){return t.clusterParent-e.clusterParent}),Z.forEach(function(e){e.cloneClusters="null";var n=Z.filter(function(t){return t.id==e.id&&t.cluster==e.cluster}),t=(1<n.length&&n.forEach(function(t,e){0<e&&(t.clone="yes"),t.cloneClusters=n.map(function(t){return t.clusterMin})}),Z.filter(function(t){return t.id==e.id}));1<t.length&&t.forEach(function(t,e){t.dupelganger=0<e?1:0}),e.hasClones=1<t.length?1:0}),Z=(i=Z).filter(function(t){return"yes"!=t.clone}),Q&&!l&&((t=document.getElementById("scrollytelling")).style.display="block",c=t.getBoundingClientRect(),n()),r()})};var lt=r(t("jquery")),ut=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),ft=r(t("nouislider")),dt=r(t("awesomplete")),o=r(t("../vendor/tooltip")),a=r(t("./data")),u=r(t("../tools/storyTelling")),pt=r(t("./card")),yt=r(t("../tools/showed_clusters")),ht=r(t("../tools/zoom")),_t=r(t("../tools/tree")),vt=r(t("../tools/pluralize")),mt=t("../lib/fractions"),bt=t("../lib/rating");function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}function r(t){return t&&t.__esModule?t:{default:t}}function gt(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xt(t,e){var n;if(t)return"string"==typeof t?s(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},{"../lib/fractions":2,"../lib/rating":3,"../tools/pluralize":15,"../tools/showed_clusters":16,"../tools/storyTelling":17,"../tools/tree":18,"../tools/zoom":19,"../vendor/tooltip":20,"./card":7,"./data":9,awesomplete:"awesomplete",d3:"d3",jquery:"jquery",nouislider:"nouislider"}],9:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=s(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),o=t("./layout_vars"),a=t("../lib/fractions"),c=t("../lib/rating");function s(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(s=function(t){return t?n:e})(t))}var l,u,f,d=[],p=[],y=[],h=new Set,_=[],v="sf"===(0,o.getLayoutVars)().type,t="https://declarator.org/media/dumps/",t={duma_7:[t+"lobbist-small-d7.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],duma_8:[t+"lobbist-small-d8.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],sf:[t+"lobbist-small-sf.json",t+"lobby-group.json","/assets/data/rating-sf.json","/assets/data/alias.json"]}[(0,o.getLayoutVars)().type],m=[],o=(t.forEach(function(t){m.push(r.json(t))}),Promise.all(m).then(function(t){l=v?t[0]:t[0].filter(function(t){return t.convocations&&0<t.convocations.length});var r,e=t[1];return u=t[2],f=t[3],d=l.flatMap(function(n){var r=n.groups,o=(0==r.length&&(r=[11851]),(0,c.getRating)(n.person,u,v));return r.map(function(t){return h.add(t),{id:n.id,name:n.fullname,fraction:(0,a.getFraction)(n).slug,gender:n.gender,age:(e=new Date(n.birth_date),e=Date.now()-e.getTime(),e=new Date(e),Math.abs(e.getUTCFullYear()-1970)),group:t,groups:r,person:n.person,lobbist:n.lobbist,rating:o.log,election_method:n.election_method,committees:v?"0"!==(e=n.committee)&&null!=e&&""!==e?[e]:["Вне комитетов"]:n.committees,convocations:0!=n.convocations.length?n.convocations.length:1,region:n.region?n.region.name:null,goverment_body:n.goverment_body,total_years:n.total_years};var e})}),h.forEach(function(t,e){_.push({id:e,val:t})}),f=f.map(function(t){return""==t.alias&&(t.alias="null"),{id:t.id,name:t.name,alias:t.alias}}),r=f,p=e.map(function(e,t){var n=r.find(function(t){return t.name==e.name}),n=n&&"null"!=n.alias?n.alias:e.name;return{index:t,id:e.id,name:e.name,parent:e.parent,order:e.order,level:e.level,tree_id:e.tree_id,alias:n}}),y=p.filter(function(t){return 0==t.level}),{lobby:p,lobby_level_0:y,data:d,rawRating:u,rawDep:l,myGroups:h,myArrGroups:_,isSF:v}}));n.default=o},{"../lib/fractions":2,"../lib/rating":3,"./layout_vars":12,d3:"d3"}],10:[function(t,e,n){"use strict";t=(t=t("jquery"))&&t.__esModule?t:{default:t};var r=(0,t.default)("#header-selector"),o="selector-control_open";r.on("click",function(){r.toggleClass(o)}),(0,t.default)(document).on("click",function(t){var e=r.hasClass(o),t=!r.is(t.target)&&0===r.has(t.target).length;e&&t&&r.toggleClass(o)})},{jquery:"jquery"}],11:[function(t,e,n){"use strict";var r=i(t("jquery")),o=i(t("./chart")),a=t("./layout_vars");function i(t){return t&&t.__esModule?t:{default:t}}(0,r.default)(document).ready(function(){"default"===(0,a.getLayoutVars)().layout&&((0,r.default)(".hero-body").addClass("is-loading"),(0,o.default)())})},{"./chart":8,"./layout_vars":12,jquery:"jquery"}],12:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLayoutVars=void 0;n.getLayoutVars=function(){return window.LAYOUT_VARS}},{}],13:[function(t,e,n){"use strict";var r=(t=t("jquery"))&&t.__esModule?t:{default:t};function o(){(0,r.default)("#modal-legend").hide()}(0,r.default)("body").on("click","#button-show-legend",function(){var t=(0,r.default)("#modal-legend");t.css("display","flex"),t.focus()}),(0,r.default)("body").on("click",".legend__modal-close",o),(0,r.default)("body").on("blur","#modal-legend",o)},{jquery:"jquery"}],14:[function(t,e,n){"use strict";(0,((t=t("jquery"))&&t.__esModule?t:{default:t}).default)(document).ready(function(){document.getElementById("nav-toggle").addEventListener("click",function(){var t=document.getElementById("nav-toggle"),e=document.getElementById("header_menu");""==t.className?(t.className="is-active is-visible",e.className="header-menu  is-visible"):(t.className="",e.className="header-menu")})})},{jquery:"jquery"}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n,r){t=Math.abs(t);if(!(5<=(t%=100)&&t<=20)){if(1==(t%=10))return e;if(2<=t&&t<=4)return n}return r}},{}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var r,o=e,a=[];o<=1&&(r=5);1<o&&(r=8);1.3<o&&(r=10);2.1<o&&(r=20);3.7<o&&(r=30);return[11550,11593,11679,11727,11739,null].forEach(function(e){11727===e&&n&&o<=1.6&&(r=1),a=a.concat(t.filter(function(t){return t.clusterParent==e}).sort(function(t,e){return e.count-t.count}).slice(0,r).map(function(t){return t.cluster}))}),t.filter(function(t){return a.includes(t.cluster)})}},{}],17:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}var o=46.5,l=[];function a(t,e){var n;for(e.dist=function(t){var e=t.x,n=t.y,e=(e+=n/2)*e+(n*=Math.sqrt(3)/2)*n+.001*Math.atan2(t.x,t.y);return e=this.half&&(e-=Math.pow(o,2),e=Math.abs(e),.5<n)?1/0:e}.call(this,e),n=0;n<t.length;n++)if(e.dist<t[n].dist){t.splice(n,0,e);break}n==t.length&&t.push(e)}function s(t,e,n){var r=this;this.half=n,this.dist=t,this.center=e,this.data=[],this.stack=[{x:0,y:0,dist:0}],this.half&&(this.stack[0].x=-o-1),this.getPoint=function(t){for(;r.data.length<=t&&0<r.stack.length;){var e=r.stack.shift();[{x:e.x-5,y:+e.y},{x:e.x+5,y:+e.y},{x:+e.x,y:e.y-5},{x:+e.x,y:e.y+5}].filter(function(e){var n=!1;return r.data.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),r.stack.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),!n}).forEach(function(t){a.call(r,r.stack,t)}),e.transformed=r.transform(e),r.data.push(e)}return r.data[t].transformed},this.transform=function(t){var e=t.x,t=t.y;return e+=t/2,t*=Math.sqrt(3)/2,e*=r.dist,t*=r.dist,{x:e+=r.center.x,y:t+=r.center.y}}}var r,u=[],f=(u[0]=[1],u[1]=[1,11851],u[2]=[11593,11551,11739,11701,11696,11697,11710,11720,11562,11717,11683,11698,11589,11713],u[3]=[11593,11551,11739,11720,11701,11696,11697,11710,11562,11683,11698],u[4]=[11551,11724,11573,11703,11552,11646,11559,11758,11696,11693],{11593:"Регионы",11551:"Силовики",11739:"Крупный бизнес и госкорпорации",11701:"Строительство, девелопмент",11696:"Сельское хозяйство",11697:"Лесное, рыбное хозяйство",11710:"Здравоохранение",11720:"Госуправление",11562:"ФОИВы",11717:"Финансы, банки",11683:"Топливная промышленность",11698:"Транспорт и связь",11589:"Банк России",11713:"Образование и наука",11724:"Адвокаты",11573:"Роскомнадзор",11703:"Телекоммуникации, IT",11552:"ФСБ",11699:"транспорт",11760:"ОАО РЖД",11758:"ГК Ростех",11809:"ГК Росатом",11783:"АО ОСК",11646:"Крым",11559:"МЧС",11693:"Алкоголь",1:"",11851:""}),d=[],p=[],y=0,h={0:1,1:2,2:4,3:4,4:4,5:4};null!==t.select("#scrollytelling").node()&&((r=document.getElementById("scrollytelling")).style.display="block",t=t.select("#scrollytelling").node().getBoundingClientRect(),r.style.display="none",y=600/(t.width/t.height),u.forEach(function(t,o){t.forEach(function(t,e){var n=+h[o],r=y-20*n,e=0===o?{x:300,y:y/2}:{x:e%n*600/n+600/n/2,y:10+((e-e%n)/n*(r/n+30)+r/n/2+10)};d[o]=d[o]||[],d[o][t]=new s(1.5,e,0===o?1:0),p[o]=p[o]||[],p[o][t]=e})}));n.default={updater:function(c){var s=[],n=[];return u[c].forEach(function(o){for(var a=l.filter(function(t){return t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o}),t=(0===c&&(a=l),1===c&&1===o&&(a=l.filter(function(t){return 11851!==t.clusterMin})),f[o]),e=(0!==a.length&&n.push({x:p[c][o].x,y:p[c][o].y-y/h[c]/2,text:t||""}),0),i=-1;e<a.length;e++)!function(t,e){var n=a[t],r=(n.dupelganger?(t=l.find(function(t){return t.id===n.id&&0===t.dupelganger}),(t=(r=a.find(function(t){return t.id===n.id&&t.uniq!==n.uniq&&n.uniq>t.uniq}))?r:t)&&(t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o)||(e++,0!==c&&1!==c)||e--):e++,d[c][o].getPoint(e));s.push({x:r.x,y:r.y,color:"purple",id:n.id,name:n.name,unq:n.uniq,group:o}),i=e}(e,i)}),{deps:s,labels:n}},setDeps:function(t){l=t},setGroups:function(t){0},setHalf:function(t){0},setDonutRadius:function(t){o=t}}},{d3:"d3"}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default={list_to_tree:function(t){for(var e,n={},r=[],o=0;o<t.length;o+=1)t[n[t[o].id]=o].children=[];for(o=0;o<t.length;o+=1)("0"!==(e=t[o]).parent?t[n[e.parent]].children:r).push(e);return r},tree_to_collection:function t(e,n,r,o){if(e[n]&&0!==e[n].length)for(var a=0;a<e[n].length;a++){var i=e[n][a];r[i.id]=i,o.push(i),t(i,n,r,o)}},findAncestors:function(e,t){for(var n=[e],r=t.find(function(t){return t.id===e}),o=r&&r.parent;1!==o&&null!=o;)n.unshift(o),o=t.find(function(t){return t.id==o}).parent;return n}}},{}],19:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=l(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),s=(t=t("./showed_clusters"))&&t.__esModule?t:{default:t};function l(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(l=function(t){return t?n:e})(t))}n.default={zoomEndFunction:function(t,e,n,r){var o=c.event.transform.k,a=(0,s.default)(e,o,r).map(function(t){return t.cluster}),e=t.filter(function(t){return a.includes(t.cluster)});1<o?(c.selectAll(".maxi").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("mini",!0),e.transition().style("opacity",1),1.3<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".maxi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("midi",!0),e.transition().style("opacity",1)),2.1<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("maxi",!0),e.transition().style("opacity",1)),3.7<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".maxi").style("opacity",0),t.attr("class","lobby_label"),e.classed("super",!0),e.transition().style("opacity",1))):(c.select("svg#chart").on("zoom",null),c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".maxi").style("opacity",0),c.selectAll(".super").style("opacity",0),e.transition().style("opacity",1),t.attr("class","lobby_label"))},zoom_actions:function(t,e,n){n.attr("data-current_enclose",null),t.attr("transform",c.event.transform)},zoom_reset:function(t,e,n,r){c.select("svg#chart.desktop").attr("viewBox","-100 0 1200 600"),e.attr("data-current_enclose",null),t.transition().style("opacity",0),e.transition().duration(750).call(n.transform,r)}}},{"./showed_clusters":16,d3:"d3"}],20:[function(t,e,n){"use strict";function c(t){throw new TypeError('"'+t+'" is read-only')}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var i=d3.select("body").append("div").attr("class","tooltip").attr("id",t).style("pointer-events","none");e&&i.style("width",e);function n(){i.style("opacity",0)}function r(t){var e=i.style("width"),n=i.style("height"),r=window.scrollY,o=window.scrollX,a=document.all?t.clientX+o:t.pageX,t=document.all?t.clientY+r:t.pageY,e=a-o+20+e>window.innerWidth?a-e-20:a+10,a=(e<o+10&&c("ttleft"),t-r+20+n>window.innerHeight?t-n-20:t+10);a<r+10&&c("tttop"),i.style("top",a+"px").style("left",e+"px")}return n(),{showTooltip:function(t,e){i.style("opacity",1).html(t),r(e)},hideTooltip:n,updatePosition:r}}},{}],21:[function(t,e,n){t=t("./_getNative")(t("./_root"),"DataView");e.exports=t},{"./_getNative":71,"./_root":106}],22:[function(t,e,n){var r=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),i=t("./_hashHas"),t=t("./_hashSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_hashClear":77,"./_hashDelete":78,"./_hashGet":79,"./_hashHas":80,"./_hashSet":81}],23:[function(t,e,n){var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),i=t("./_listCacheHas"),t=t("./_listCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_listCacheClear":88,"./_listCacheDelete":89,"./_listCacheGet":90,"./_listCacheHas":91,"./_listCacheSet":92}],24:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Map");e.exports=t},{"./_getNative":71,"./_root":106}],25:[function(t,e,n){var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),i=t("./_mapCacheHas"),t=t("./_mapCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_mapCacheClear":93,"./_mapCacheDelete":94,"./_mapCacheGet":95,"./_mapCacheHas":96,"./_mapCacheSet":97}],26:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Promise");e.exports=t},{"./_getNative":71,"./_root":106}],27:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Set");e.exports=t},{"./_getNative":71,"./_root":106}],28:[function(t,e,n){var r=t("./_MapCache"),o=t("./_setCacheAdd"),t=t("./_setCacheHas");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=t,e.exports=a},{"./_MapCache":25,"./_setCacheAdd":107,"./_setCacheHas":108}],29:[function(t,e,n){var r=t("./_ListCache"),o=t("./_stackClear"),a=t("./_stackDelete"),i=t("./_stackGet"),c=t("./_stackHas"),t=t("./_stackSet");function s(t){t=this.__data__=new r(t);this.size=t.size}s.prototype.clear=o,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=c,s.prototype.set=t,e.exports=s},{"./_ListCache":23,"./_stackClear":110,"./_stackDelete":111,"./_stackGet":112,"./_stackHas":113,"./_stackSet":114}],30:[function(t,e,n){t=t("./_root").Symbol;e.exports=t},{"./_root":106}],31:[function(t,e,n){t=t("./_root").Uint8Array;e.exports=t},{"./_root":106}],32:[function(t,e,n){t=t("./_getNative")(t("./_root"),"WeakMap");e.exports=t},{"./_getNative":71,"./_root":106}],33:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}},{}],34:[function(t,e,n){var u=t("./_baseTimes"),f=t("./isArguments"),d=t("./isArray"),p=t("./isBuffer"),y=t("./_isIndex"),h=t("./isTypedArray"),_=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n,r=d(t),o=!r&&f(t),a=!r&&!o&&p(t),i=!r&&!o&&!a&&h(t),c=r||o||a||i,s=c?u(t.length,String):[],l=s.length;for(n in t)!e&&!_.call(t,n)||c&&("length"==n||a&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||y(n,l))||s.push(n);return s}},{"./_baseTimes":56,"./_isIndex":82,"./isArguments":125,"./isArray":126,"./isBuffer":128,"./isTypedArray":134}],35:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},{}],36:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},{}],37:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],38:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":119}],39:[function(t,e,n){e.exports=function(t,e,n,r){for(var o=t.length,a=n+(r?1:-1);r?a--:++a<o;)if(e(t[a],a,t))return a;return-1}},{}],40:[function(t,e,n){var o=t("./_castPath"),a=t("./_toKey");e.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}},{"./_castPath":61,"./_toKey":116}],41:[function(t,e,n){var r=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,n){return e=e(t),o(t)?e:r(e,n(t))}},{"./_arrayPush":36,"./isArray":126}],42:[function(t,e,n){var r=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(i&&i in Object(t)?o:a)(t)}},{"./_Symbol":30,"./_getRawTag":72,"./_objectToString":104}],43:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],44:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},{"./_baseGetTag":42,"./isObjectLike":132}],45:[function(t,e,n){var i=t("./_baseIsEqualDeep"),c=t("./isObjectLike");e.exports=function t(e,n,r,o,a){return e===n||(null==e||null==n||!c(e)&&!c(n)?e!=e&&n!=n:i(e,n,r,o,t,a))}},{"./_baseIsEqualDeep":46,"./isObjectLike":132}],46:[function(t,e,n){var f=t("./_Stack"),d=t("./_equalArrays"),p=t("./_equalByTag"),y=t("./_equalObjects"),h=t("./_getTag"),_=t("./isArray"),v=t("./isBuffer"),m=t("./isTypedArray"),b="[object Arguments]",g="[object Array]",x="[object Object]",w=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=_(t),c=_(e),s=i?g:h(t),c=c?g:h(e),l=(s=s==b?x:s)==x,u=(c=c==b?x:c)==x;if((c=s==c)&&v(t)){if(!v(e))return!1;l=!(i=!0)}if(c&&!l)return a=a||new f,i||m(t)?d(t,e,n,r,o,a):p(t,e,s,n,r,o,a);if(!(1&n)){i=l&&w.call(t,"__wrapped__"),s=u&&w.call(e,"__wrapped__");if(i||s)return o(i?t.value():t,s?e.value():e,n,r,a=a||new f)}return c&&(a=a||new f,y(t,e,n,r,o,a))}},{"./_Stack":29,"./_equalArrays":64,"./_equalByTag":65,"./_equalObjects":66,"./_getTag":74,"./isArray":126,"./isBuffer":128,"./isTypedArray":134}],47:[function(t,e,n){var p=t("./_Stack"),y=t("./_baseIsEqual");e.exports=function(t,e,n,r){var o=n.length,a=o,i=!r;if(null==t)return!a;for(t=Object(t);o--;){var c=n[o];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<a;){var s=(c=n[o])[0],l=t[s],u=c[1];if(i&&c[2]){if(void 0===l&&!(s in t))return!1}else{var f,d=new p;if(!(void 0===(f=r?r(l,u,s,t,e,d):f)?y(u,l,3,r,d):f))return!1}}return!0}},{"./_Stack":29,"./_baseIsEqual":45}],48:[function(t,e,n){var r=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),c=/^\[object .+?Constructor\]$/,t=Function.prototype,s=Object.prototype,t=t.toString,s=s.hasOwnProperty,l=RegExp("^"+t.call(s).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||o(t))&&(r(t)?l:c).test(i(t))}},{"./_isMasked":85,"./_toSource":117,"./isFunction":129,"./isObject":131}],49:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isLength"),a=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&o(t.length)&&!!i[r(t)]}},{"./_baseGetTag":42,"./isLength":130,"./isObjectLike":132}],50:[function(t,e,n){var r=t("./_baseMatches"),o=t("./_baseMatchesProperty"),a=t("./identity"),i=t("./isArray"),c=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):r(t):c(t)}},{"./_baseMatches":52,"./_baseMatchesProperty":53,"./identity":124,"./isArray":126,"./property":137}],51:[function(t,e,n){var r=t("./_isPrototype"),o=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e,n=[];for(e in Object(t))a.call(t,e)&&"constructor"!=e&&n.push(e);return n}},{"./_isPrototype":86,"./_nativeKeys":102}],52:[function(t,e,n){var r=t("./_baseIsMatch"),o=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(e){var n=o(e);return 1==n.length&&n[0][2]?a(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},{"./_baseIsMatch":47,"./_getMatchData":70,"./_matchesStrictComparable":99}],53:[function(t,e,n){var o=t("./_baseIsEqual"),a=t("./get"),i=t("./hasIn"),c=t("./_isKey"),s=t("./_isStrictComparable"),l=t("./_matchesStrictComparable"),u=t("./_toKey");e.exports=function(n,r){return c(n)&&s(r)?l(u(n),r):function(t){var e=a(t,n);return void 0===e&&e===r?i(t,n):o(r,e,3)}}},{"./_baseIsEqual":45,"./_isKey":83,"./_isStrictComparable":87,"./_matchesStrictComparable":99,"./_toKey":116,"./get":122,"./hasIn":123}],54:[function(t,e,n){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],55:[function(t,e,n){var r=t("./_baseGet");e.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":40}],56:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],57:[function(t,e,n){var r=t("./_Symbol"),o=t("./_arrayMap"),a=t("./isArray"),i=t("./isSymbol"),t=r?r.prototype:void 0,c=t?t.toString:void 0;e.exports=function t(e){var n;return"string"==typeof e?e:a(e)?o(e,t)+"":i(e)?c?c.call(e):"":"0"==(n=e+"")&&1/e==-1/0?"-0":n}},{"./_Symbol":30,"./_arrayMap":35,"./isArray":126,"./isSymbol":133}],58:[function(t,e,n){var r=t("./_trimmedEndIndex"),o=/^\s+/;e.exports=function(t){return t&&t.slice(0,r(t)+1).replace(o,"")}},{"./_trimmedEndIndex":118}],59:[function(t,e,n){e.exports=function(e){return function(t){return e(t)}}},{}],60:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],61:[function(t,e,n){var r=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),i=t("./toString");e.exports=function(t,e){return r(t)?t:o(t,e)?[t]:a(i(t))}},{"./_isKey":83,"./_stringToPath":115,"./isArray":126,"./toString":143}],62:[function(t,e,n){t=t("./_root")["__core-js_shared__"];e.exports=t},{"./_root":106}],63:[function(t,e,n){var i=t("./_baseIteratee"),c=t("./isArrayLike"),s=t("./keys");e.exports=function(a){return function(t,e,n){var r,o=Object(t),e=(c(t)||(r=i(e,3),t=s(t),e=function(t){return r(o[t],t,o)}),a(t,e,n));return-1<e?o[r?t[e]:e]:void 0}}},{"./_baseIteratee":50,"./isArrayLike":127,"./keys":135}],64:[function(t,e,n){var _=t("./_SetCache"),v=t("./_arraySome"),m=t("./_cacheHas");e.exports=function(t,e,n,r,o,a){var i=1&n,c=t.length,s=e.length;if(c!=s&&!(i&&c<s))return!1;var s=a.get(t),l=a.get(e);if(s&&l)return s==e&&l==t;var u=-1,f=!0,d=2&n?new _:void 0;for(a.set(t,e),a.set(e,t);++u<c;){var p,y=t[u],h=e[u];if(void 0!==(p=r?i?r(h,y,u,e,t,a):r(y,h,u,t,e,a):p)){if(p)continue;f=!1;break}if(d){if(!v(e,function(t,e){if(!m(d,e)&&(y===t||o(y,t,n,r,a)))return d.push(e)})){f=!1;break}}else if(y!==h&&!o(y,h,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}},{"./_SetCache":28,"./_arraySome":37,"./_cacheHas":60}],65:[function(t,e,n){var r=t("./_Symbol"),l=t("./_Uint8Array"),u=t("./eq"),f=t("./_equalArrays"),d=t("./_mapToArray"),p=t("./_setToArray"),t=r?r.prototype:void 0,y=t?t.valueOf:void 0;e.exports=function(t,e,n,r,o,a,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return t.byteLength==e.byteLength&&a(new l(t),new l(e))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=d;case"[object Set]":c=c||p;if(t.size!=e.size&&!(1&r))return!1;var s=i.get(t);if(s)return s==e;r|=2,i.set(t,e);s=f(c(t),c(e),r,o,a,i);return i.delete(t),s;case"[object Symbol]":if(y)return y.call(t)==y.call(e)}return!1}},{"./_Symbol":30,"./_Uint8Array":31,"./_equalArrays":64,"./_mapToArray":98,"./_setToArray":109,"./eq":119}],66:[function(t,e,n){var m=t("./_getAllKeys"),b=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=1&n,c=m(t),s=c.length;if(s!=m(e).length&&!i)return!1;for(var l=s;l--;){var u=c[l];if(!(i?u in e:b.call(e,u)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;for(var p=!0,y=(a.set(t,e),a.set(e,t),i);++l<s;){var h,_=t[u=c[l]],v=e[u];if(!(void 0===(h=r?i?r(v,_,u,e,t,a):r(_,v,u,t,e,a):h)?_===v||o(_,v,n,r,a):h)){p=!1;break}y=y||"constructor"==u}return p&&!y&&(f=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof d&&d instanceof d)&&(p=!1),a.delete(t),a.delete(e),p}},{"./_getAllKeys":68}],67:[function(t,n,e){!function(e){!function(){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e,n){var r=t("./_baseGetAllKeys"),o=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return r(t,a,o)}},{"./_baseGetAllKeys":41,"./_getSymbols":73,"./keys":135}],69:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){return t=t.__data__,r(e)?t["string"==typeof e?"string":"hash"]:t.map}},{"./_isKeyable":84}],70:[function(t,e,n){var a=t("./_isStrictComparable"),i=t("./keys");e.exports=function(t){for(var e=i(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,a(o)]}return e}},{"./_isStrictComparable":87,"./keys":135}],71:[function(t,e,n){var r=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){return t=o(t,e),r(t)?t:void 0}},{"./_baseIsNative":48,"./_getValue":75}],72:[function(t,e,n){var t=t("./_Symbol"),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,c=t?t.toStringTag:void 0;e.exports=function(t){var e=a.call(t,c),n=t[c];try{var r=!(t[c]=void 0)}catch(t){}var o=i.call(t);return r&&(e?t[c]=n:delete t[c]),o}},{"./_Symbol":30}],73:[function(t,e,n){var r=t("./_arrayFilter"),t=t("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:t},{"./_arrayFilter":33,"./stubArray":138}],74:[function(t,e,n){var r=t("./_DataView"),o=t("./_Map"),a=t("./_Promise"),i=t("./_Set"),c=t("./_WeakMap"),s=t("./_baseGetTag"),l=t("./_toSource"),u="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",h=l(r),_=l(o),v=l(a),m=l(i),b=l(c),t=s;(r&&t(new r(new ArrayBuffer(1)))!=y||o&&t(new o)!=u||a&&t(a.resolve())!=f||i&&t(new i)!=d||c&&t(new c)!=p)&&(t=function(t){var e=s(t),t="[object Object]"==e?t.constructor:void 0,t=t?l(t):"";if(t)switch(t){case h:return y;case _:return u;case v:return f;case m:return d;case b:return p}return e}),e.exports=t},{"./_DataView":21,"./_Map":24,"./_Promise":26,"./_Set":27,"./_WeakMap":32,"./_baseGetTag":42,"./_toSource":117}],75:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],76:[function(t,e,n){var c=t("./_castPath"),s=t("./isArguments"),l=t("./isArray"),u=t("./_isIndex"),f=t("./isLength"),d=t("./_toKey");e.exports=function(t,e,n){for(var r=-1,o=(e=c(e,t)).length,a=!1;++r<o;){var i=d(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&f(o)&&u(i,o)&&(l(t)||s(t))}},{"./_castPath":61,"./_isIndex":82,"./_toKey":116,"./isArguments":125,"./isArray":126,"./isLength":130}],77:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":101}],78:[function(t,e,n){e.exports=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}},{}],79:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e,n=this.__data__;return r?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:o.call(n,t)?n[t]:void 0}},{"./_nativeCreate":101}],80:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":101}],81:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},{"./_nativeCreate":101}],82:[function(t,e,n){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&-1<t&&t%1==0&&t<e}},{}],83:[function(t,e,n){var r=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(t,e){var n;return!r(t)&&(!("number"!=(n=typeof t)&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e))}},{"./isArray":126,"./isSymbol":133}],84:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],85:[function(t,e,n){var t=t("./_coreJsData"),r=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";e.exports=function(t){return!!r&&r in t}},{"./_coreJsData":62}],86:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],87:[function(t,e,n){var r=t("./isObject");e.exports=function(t){return t==t&&!r(t)}},{"./isObject":131}],88:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],89:[function(t,e,n){var r=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__;return!((t=r(e,t))<0||(t==e.length-1?e.pop():o.call(e,t,1),--this.size,0))}},{"./_assocIndexOf":38}],90:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__;return(t=r(e,t))<0?void 0:e[t][1]}},{"./_assocIndexOf":38}],91:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return-1<r(this.__data__,t)}},{"./_assocIndexOf":38}],92:[function(t,e,n){var o=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},{"./_assocIndexOf":38}],93:[function(t,e,n){var r=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":22,"./_ListCache":23,"./_Map":24}],94:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return t=r(this,t).delete(t),this.size-=t?1:0,t}},{"./_getMapData":69}],95:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":69}],96:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":69}],97:[function(t,e,n){var o=t("./_getMapData");e.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},{"./_getMapData":69}],98:[function(t,e,n){e.exports=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}},{}],99:[function(t,e,n){e.exports=function(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}},{}],100:[function(t,e,n){var r=t("./memoize");e.exports=function(t){var e=(t=r(t,function(t){return 500===e.size&&e.clear(),t})).cache;return t}},{"./memoize":136}],101:[function(t,e,n){t=t("./_getNative")(Object,"create");e.exports=t},{"./_getNative":71}],102:[function(t,e,n){t=t("./_overArg")(Object.keys,Object);e.exports=t},{"./_overArg":105}],103:[function(t,e,n){var t=t("./_freeGlobal"),n="object"==typeof n&&n&&!n.nodeType&&n,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===n&&t.process,n=function(){try{var t=r&&r.require&&r.require("util").types;return t?t:o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=n},{"./_freeGlobal":67}],104:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],105:[function(t,e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},{}],106:[function(t,e,n){var t=t("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,t=t||r||Function("return this")();e.exports=t},{"./_freeGlobal":67}],107:[function(t,e,n){e.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},{}],108:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],109:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],110:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":23}],111:[function(t,e,n){e.exports=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}},{}],112:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],113:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],114:[function(t,e,n){var o=t("./_ListCache"),a=t("./_Map"),i=t("./_MapCache");e.exports=function(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":23,"./_Map":24,"./_MapCache":25}],115:[function(t,e,n){var t=t("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,t=t(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(r,function(t,e,n,r){o.push(n?r.replace(a,"$1"):e||t)}),o});e.exports=t},{"./_memoizeCapped":100}],116:[function(t,e,n){var r=t("./isSymbol");e.exports=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}},{"./isSymbol":133}],117:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],118:[function(t,e,n){var r=/\s/;e.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},{}],119:[function(t,e,n){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],120:[function(t,e,n){t=t("./_createFind")(t("./findIndex"));e.exports=t},{"./_createFind":63,"./findIndex":121}],121:[function(t,e,n){var o=t("./_baseFindIndex"),a=t("./_baseIteratee"),i=t("./toInteger"),c=Math.max;e.exports=function(t,e,n){var r=null==t?0:t.length;return r?((n=null==n?0:i(n))<0&&(n=c(r+n,0)),o(t,a(e,3),n)):-1}},{"./_baseFindIndex":39,"./_baseIteratee":50,"./toInteger":141}],122:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t,e,n){return void 0===(t=null==t?void 0:r(t,e))?n:t}},{"./_baseGet":40}],123:[function(t,e,n){var r=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,r)}},{"./_baseHasIn":43,"./_hasPath":76}],124:[function(t,e,n){e.exports=function(t){return t}},{}],125:[function(t,e,n){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),t=Object.prototype,a=t.hasOwnProperty,i=t.propertyIsEnumerable,t=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!i.call(t,"callee")};e.exports=t},{"./_baseIsArguments":44,"./isObjectLike":132}],126:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],127:[function(t,e,n){var r=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},{"./isFunction":129,"./isLength":130}],128:[function(t,e,n){var r=t("./_root"),t=t("./stubFalse"),n="object"==typeof n&&n&&!n.nodeType&&n,o=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=o&&o.exports===n?r.Buffer:void 0,n=o?o.isBuffer:void 0;e.exports=n||t},{"./_root":106,"./stubFalse":139}],129:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObject");e.exports=function(t){return!!o(t)&&("[object Function]"==(t=r(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}},{"./_baseGetTag":42,"./isObject":131}],130:[function(t,e,n){e.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},{}],131:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],132:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],133:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},{"./_baseGetTag":42,"./isObjectLike":132}],134:[function(t,e,n){var r=t("./_baseIsTypedArray"),o=t("./_baseUnary"),t=t("./_nodeUtil"),t=t&&t.isTypedArray,o=t?o(t):r;e.exports=o},{"./_baseIsTypedArray":49,"./_baseUnary":59,"./_nodeUtil":103}],135:[function(t,e,n){var r=t("./_arrayLikeKeys"),o=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return(a(t)?r:o)(t)}},{"./_arrayLikeKeys":34,"./_baseKeys":51,"./isArrayLike":127}],136:[function(t,e,n){var i=t("./_MapCache");function c(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),a.cache=n.set(e,t)||n,t)}return a.cache=new(c.Cache||i),a}c.Cache=i,e.exports=c},{"./_MapCache":25}],137:[function(t,e,n){var r=t("./_baseProperty"),o=t("./_basePropertyDeep"),a=t("./_isKey"),i=t("./_toKey");e.exports=function(t){return a(t)?r(i(t)):o(t)}},{"./_baseProperty":54,"./_basePropertyDeep":55,"./_isKey":83,"./_toKey":116}],138:[function(t,e,n){e.exports=function(){return[]}},{}],139:[function(t,e,n){e.exports=function(){return!1}},{}],140:[function(t,e,n){var r=t("./toNumber");e.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},{"./toNumber":142}],141:[function(t,e,n){var r=t("./toFinite");e.exports=function(t){var e=(t=r(t))%1;return t==t?e?t-e:t:0}},{"./toFinite":140}],142:[function(t,e,n){var r=t("./_baseTrim"),o=t("./isObject"),a=t("./isSymbol"),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(o(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=o(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=r(t);var e=c.test(t);return e||s.test(t)?l(t.slice(2),e?2:8):i.test(t)?NaN:+t}},{"./_baseTrim":58,"./isObject":131,"./isSymbol":133}],143:[function(t,e,n){var r=t("./_baseToString");e.exports=function(t){return null==t?"":r(t)}},{"./_baseToString":57}]},{},[4]);
//# sourceMappingURL=main-285b0753.js.map
