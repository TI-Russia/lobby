!function r(o,a,i){function s(e,t){if(!a[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(c)return c(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=a[e]={exports:{}},o[e][0].call(n.exports,function(t){return s(o[e][1][t]||t)},n,n.exports,r,o,a,i)}return a[e].exports}for(var c="function"==typeof require&&require,t=0;t<i.length;t++)s(i[t]);return s}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFraction=n.FRACTION=void 0;var r=(t=t("lodash/find"))&&t.__esModule?t:{default:t};var o={er:{name:"Единая Россия",alias:["Единая Россия"],color:"is-color-er",id:1,slug:"er"},kprf:{name:"КПРФ",alias:["КПРФ"],color:"is-color-red",id:2,slug:"kprf"},nl:{name:"Новые люди",alias:["Новые люди"],color:"is-color-mint",id:3,slug:"nl"},sr:{name:"Справедливая Россия",alias:["Справедливая Россия"],color:"is-color-orange",id:5,slug:"sr"},ldpr:{name:"ЛДПР",alias:["ЛДПР"],color:"is-color-yellow",id:9,slug:"ldpr"},vne:{name:"Вне фракции",alias:["Вне фракции","беспартийный","беспартийная"],color:"is-color-gray",id:0,slug:"vne"}};n.FRACTION=o;n.getFraction=function(e){if(e.fraction){var t=(0,r.default)(o,function(t){return t.alias.some(function(t){return t===e.fraction})});if(t)return t;t=(0,r.default)(o,function(t){return t.id===e.fraction});if(t)return t}if(e.fraction_old){t=(0,r.default)(o,function(t){return t.alias.some(function(t){return t===e.fraction_old})});if(t)return t}return o.vne}},{"lodash/find":119}],2:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=s(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function s(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(s=function(t){return t?n:e})(t))}t("./tools/burger"),t("./modules/data"),t("./modules/intro"),t("./modules/accordion"),t("./modules/legend"),t("./modules/about"),t("./modules/header"),window.d3=r},{"./modules/about":3,"./modules/accordion":4,"./modules/data":7,"./modules/header":8,"./modules/intro":9,"./modules/legend":11,"./tools/burger":12,d3:"d3"}],3:[function(t,e,n){"use strict";var r,o=(r=t("jquery"))&&r.__esModule?r:{default:r};"page-about"===(0,t("./layout_vars").getLayoutVars)().layout&&(document.documentElement.style.overflowY="auto",(0,o.default)(window).scroll(function(){for(var t=(0,o.default)(document).scrollTop(),e=(0,o.default)("body").find(".md-page-section"),n=0;n<e.length;n++)t+110>(0,o.default)(e[n]).offset().top&&t<(0,o.default)(e[n]).offset().top+(0,o.default)(e[n]).height()-50?(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).addClass("active"):(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).removeClass("active");200<document.body.scrollTop||200<document.documentElement.scrollTop?document.getElementById("scrollToTop").style.display="block":document.getElementById("scrollToTop").style.display="none"}),(0,o.default)(document).on("click",'a[href^="#"]',function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:(0,o.default)(o.default.attr(this,"href")).offset().top},500)}),(0,o.default)(document).on("click","#scrollToTop",function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:0},500)}))},{"./layout_vars":10,jquery:"jquery"}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(t=t("jquery"))&&t.__esModule?t:{default:t};var o="accordion:toggle";function a(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,t=(0,r.default)(t);e?(t.addClass("accordion_expand"),t.find(".accordion__content").slideDown(n)):(t.removeClass("accordion_expand"),t.find(".accordion__content").slideUp(n))}(0,r.default)("body").on("click",".accordion__title",function(){var t=(0,r.default)(this).closest(".accordion"),e=!t.hasClass("accordion_expand");a(t,e),t.trigger(o,e)}),n.default={EVENT_TOGGLE:o,toggle:a}},{jquery:"jquery"}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(t("jquery")),r=t("liquidjs"),i=l(t("../tools/tree")),s=(t("../tools/date"),l(t("../tools/pluralize"))),o=t("./layout_vars"),c=l(t("./accordion"));function l(t){return t&&t.__esModule?t:{default:t}}var u,f,d=new r.Liquid,t="default"===(0,o.getLayoutVars)().layout,p="sf"===(0,o.getLayoutVars)().type,y=p?"person_sf/":"person/",h=p?"https://docs.google.com/forms/d/e/1FAIpQLScWdkT2GB6btR3duE5fWRzbTeg8HeLji8MR7ZW2-0oMiG7-Wg/":"https://docs.google.com/forms/d/e/1FAIpQLSd6WGVWRwdwf7Q7oE_3RIlHR8MMdo_LVOnC0nk9YINtfYvjPw/",_=null,v=null,m=new Set,b=0;function g(){u.hide(),u.html(""),v=_=null,b=0,m.clear(),window.dispatchEvent(new Event("closeCard")),window.history&&window.history.pushState&&window.history.pushState("backward",null,p?"./sf":"./")}function x(){var t=_,e=t.depInfo,n=t.depRating,r=t.depLobbys,o=t.lobby_list;t.declarations;u.html(d.renderSync(f,{selectedLaw:v,info:e,rating:n,lobbys:r,lastUpdate:null,editing:!1,fractionClass:{"Единая Россия":"er","КПРФ":"kprf","ЛДПР":"ldpr","Справедливая Россия":"sr","Новые люди":"nl"}[e.fraction]||"vne",positionHtml:(p?function(t){var e=t.committee,n=t.gender,r=t.region.genitive,o=t.goverment_body,a=t.position;"0"!==e&&null!=e&&""!==e||(e="");n=n?n.toLowerCase():"м",o=(o=(o=o.replace("исполнительный ","исполнительным ")).replace("законодательный ","законодательным ")).replace("орган ","органом "),o+=", ";a+=e.replace("Комитет "," ");" "!==e&&(a+=", ");e="ж"==n||"f"==n?"делегирована ":"делегирован ",n="в Совете Федерации с "+t.start_year+" года";return a+e+o+n+". Представитель "+r}:function(t){var e=t.committee||"",n=t.election_method,r=t.convocations.length||1,t=t.gender?t.gender.toLowerCase():"м",o=e.replace("Комитет ГД ","Член комитета ");e&&(o+=", ");e="ж"==t||"f"==t?"избрана":"избран",t=2==r||3==r||4==r?" раза":" раз";return o+e+("одномандатный округ"==n?" по одномандатному округу":" по списку")+", "+(1==r?e+" впервые":e+" "+r+t)})(e),tempComissionHtml:p?function(t){t=(t||[]).map(function(t){return"<li>"+t.charAt(0).toUpperCase()+str.slice(1)+"</li>"});return t.length?"<ul>"+t.join("")+"</ul>":""}(e.temp_commission):"",lawTextBringHtml:(0,s.default)(+n.vnes,"закон<br>выдвинут","закона<br>выдвинуто","законов<br>выдвинуто"),lawTextPassed:(0,s.default)(+n.podpis,"принят","принято","принято"),lawTextDay:(0,s.default)(Math.floor(String(n.sred_day).replace(",",".")),"день","дня","дней"),sredDay:Math.floor(String(n.sred_day).replace(",",".")),lobbyHtml:function(t,n){var e=[],r=(t.forEach(function(t){t=i.default.findAncestors(t,n);e.push(t.map(function(e){return n.find(function(t){return t.id==e}).name}))}),"");e.length&&e.forEach(function(t,e,n){0!==e&&t[0]===n[e-1][0]||(r+="<h3>"+t[0].toLowerCase().replace(" лобби","")+"</h3>"),t=t.slice(1),r+="<ul>";e=(null==(n=t[0])||null==(e=n.charAt(0))?void 0:e.toUpperCase())+(null==(n=t[0])?void 0:n.slice(1));r+="<li>"+e+"</li>",t=t.slice(1),r+='<div class="content"><ul>',t.forEach(function(t,e,n){t=t.charAt(0).toUpperCase()+t.slice(1),r+="<li>"+t+"</li>"}),r+="</ul></div></ul>"});return'<div class="card__lobby-matrix">'+r+"</div>"}(e.groups,o),twPerson:"https://twitter.com/intent/tweet?url=http%3A%2F%2Fdumabingo.ru/"+y+e.person+"&text="+e.fullname,vkPerson:"http://vk.com/share.php?url=http%3A%2F%2Fdumabingo.ru/"+y+e.person,openDeclaration:"https://declarator.org/person/"+e.person,sendForm:h+"viewform?entry.742555963="+e.fullname})),v||u.find(".accordion").each(function(){var t=(0,a.default)(this).attr("data-id");m.has(t)&&c.default.toggle(this,!0,0)}),b&&u.scrollTop(b)}t&&(r=(u=(0,a.default)("#card")).find("#card_template").html(),f=d.parse(r),u.html(""),u.on("click","#scrollToTop",function(t){t.preventDefault(),u.animate({scrollTop:0},500)}),u.on("scroll",function(){200<u.scrollTop()?u.find("#scrollToTop").show():u.find("#scrollToTop").hide()}),u.on(c.default.EVENT_TOGGLE,".card__main-info .accordion",function(t,e){var n=(0,a.default)(this).attr("data-id");e?m.add(n):m.delete(n)}),u.on("click",".card__law-details-button",function(t){t.preventDefault();t=(0,a.default)(this).closest(".card__law").attr("data-id");v=t,b=u.scrollTop(),x()}),u.on("click",".card__law-back-button",function(t){t.preventDefault(),v=null,x()}),u.on("click","#close_btn",g),(0,a.default)(window).on("popstate",g)),n.default=function(t,e,n,r,o){window.history&&window.history.pushState&&window.history.pushState({person:t.person},null,(p?"./sf#id":"./#id")+t.person),_={depInfo:t,depRating:e,depLobbys:n,lobby_list:r,declarations:o},b=0,u.show(),x()}},{"../tools/date":13,"../tools/pluralize":14,"../tools/tree":17,"./accordion":4,"./layout_vars":10,jquery:"jquery",liquidjs:"liquidjs"}],6:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var Y,X,Q,e,J,Z,tt,et,nt,i,s,rt,ot,at,it,st,ct=(0,o.default)("gates_tooltip",240),l=window.location.hash?window.location.hash.substring(1):null;function c(){var t=document.getElementById("scrollytelling");t.style.opacity=0,document.documentElement.style.overflowY="auto",setTimeout(function(){t.style.display="none"},200)}function n(){var t=600/(s.width/s.height),e=dt.select("#root").append("svg"),a=(e.attr("viewBox",[0,0,600,20+t]),e.append("g")),t=(Math.PI,Math.sqrt(5),i.slice().sort(function(t,e){return t.dupelganger-e.dupelganger}).sort(function(t,e){return t.id-e.id}));t.length;function n(e){0;function t(t){return 1===e?1===t.group?"tellingCircle":"tellingCircleGray":2===e?11593===t.group?"tellingCircle":"tellingBluredCircle":3===e?11551===t.group||11739===t.group?"tellingCircle":"tellingBluredCircle":4!==e?"tellingCircle":10528===t.id?"tellingCircleAlt":10724===t.id?"tellingCircle":"tellingBluredCircle"}var n=u.default.updater(e),r=n.deps,n=n.labels,o=dt.transition().duration(300).ease(dt.easeLinear),r=a.selectAll("circle").data(r,function(t){return t.unq}),r=(r.enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("class",t).attr("r",3).attr("name",function(t){return t.name+" "+t.unq}),r.exit().transition(o).attr("r",0),r.exit().transition().delay(1e3).remove(),r.transition(o).attr("r",3).attr("class",t).attr("name",function(t){return t.name+" "+t.unq}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),a.selectAll("text").data(n,function(t){return t.text}));r.enter().append("text").text(function(t){return t.text}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("class","tellingLabel").attr("fill","black"),r.exit().remove(),r.transition(o).attr("x",function(t){return t.x}).attr("y",function(t){return t.y})}dt.nest().key(function(t){return t.cluster}).rollup(function(t){return{count:t.length,name:t[0]&&t[0].clusterName}}).entries(t).slice().sort(function(t,e){return e.value.count-t.value.count}).slice(1,10).forEach(function(t,e){return t.order=e}),u.default.setDeps(t),n(l?4:0);e=document.getElementsByClassName("section");var r=Array.prototype.map.call(e,function(t,e){if("DIV"===t.nodeName)return{i:e,offsetTop:t.offsetTop,offsetHeight:t.offsetHeight}}).reverse(),o=document.getElementById("scrollytelling"),t=(o.addEventListener("scroll",function(){var t=r.find(function(t){return t.offsetTop-o.getBoundingClientRect().height+100<o.scrollTop});if(t){var e=t.i;if(t&&null!=e)switch(e){case 0:0;case 1:case 2:case 3:u.default.setDonutRadius(0),n(e);break;case 4:u.default.setHalf(0),n(e)}}}),l&&c(),document.getElementById("close_cross")),e=document.getElementById("go_to_lobby_map");t.addEventListener("click",function(t){c()}),e.addEventListener("click",function(t){c()})}function lt(){var t=document.getElementsByTagName("header")[0].clientHeight,e=document.getElementById("controls").clientHeight,t=t+document.getElementsByClassName("footer")[0].clientHeight+e,e=(document.body.className+=" chart",document.body.className="chart",document.documentElement.clientWidth),t=document.documentElement.clientHeight-t;rt=e<=812?812:e,!ut()&&90!=window.orientation||(rt=e),ot=t-5,window.orientation,dt.select("#clusters svg#chart").attr("height",ot).attr("width",rt),dt.select("#clusters svg#chart").attr("viewBox","-100 0 1200 600").attr("preserveAspectRatio","xMidYMid meet").attr("class","desktop"),at=800,it=600}function ut(){return document.documentElement.clientWidth<=450}function r(){var s=nt.filter(function(t){return t}),D=(s.sort(function(t,e){return e.count-t.count}),s.sort(function(t,e){return t.clusterParent-e.clusterParent}),et.concat(s)),B=dt.scaleLinear().domain([0,8]).range([50,at]),z=dt.scaleLinear().domain([0,8]).range([100,it]);function e(e){var t=s.find(function(t){return t.cluster==e});return{x:B(t.col),y:z(t.row)}}s[0].col=0,s[0].row=0,s.forEach(function(t){var e=t;switch(e.clusterParent){case 11739:e.col=.2,e.row=1.7,tt&&(e.col=8.9,e.row=1.4);break;case 11679:e.col=4.6,e.row=2.2,tt&&(e.col=.2,e.row=1.7);break;case 11593:e.col=8.9,e.row=1.4,tt&&(e.col=4.6,e.row=2.2);break;case 11550:e.col=1.9,e.row=5.5;break;case 11727:e.col=8.5,e.row=5.9;break;default:e.col=6.4,e.row=6.1}11738==e.cluster&&(e.col=4.5,e.row=6.5)}),st.append("g").attr("class","encloses"),Q.forEach(function(e){st.select("g.encloses").append("path").attr("class","enclose").attr("fill","none").attr("id","enclose"+e.id),st.select("g.encloses").append("text").attr("id","encloseText"+e.id).attr("dy",-7.5).append("textPath").attr("xlink:href","#enclose"+e.id).attr("startOffset","25%").style("text-anchor","middle").text(function(){var t=e.alias.toUpperCase();return t=t.charAt(0).toUpperCase()+t.slice(1)})});for(var n,r,t=dt.forceX(function(t){return e(t.cluster).x}),o=dt.forceY(function(t){return e(t.cluster).y}),a=0,i=dt.forceSimulation().nodes(et.sort(function(t,e){return t.cluster-e.cluster})).force("collide",function(t){var e=dt.quadtree().x(function(t){return t.x}).y(function(t){return t.y}).addAll(et);et.forEach(function(l){var t=l.r+Math.max(3,15),u=l.x-t,f=l.x+t,d=l.y-t,p=l.y+t;e.visit(function(t,e,n,r,o){var a,i,s,c;return t.data&&t.data!==l&&(a=l.x-t.data.x,i=l.y-t.data.y,(s=Math.sqrt(a*a+i*i))<(c=l.r+t.data.r+(l.cluster===t.data.cluster?3:15)))&&(l.x-=a*=s=(s-c)/s*.5,l.y-=i*=s,t.data.x+=a,t.data.y+=i),f<e||r<u||p<n||o<d})})}).force("cluster",function(i){et.forEach(function(e){var t,n,r,o,a=s.find(function(t){return t.cluster==e.cluster});a!==e&&(t=e.x-a.x,n=e.y-a.y,(r=Math.sqrt(t*t+n*n))!==(o=e.r+a.r))&&(e.x-=t*=r=(r-o)/r*i,e.y-=n*=r,a.x+=t,a.y+=n)})}).force("x",t.strength(.1)).force("y",o.strength(.1)).alphaDecay(.04).on("end",function(){0==a&&F.alpha(1).restart(),a=1}).stop(),c=0,N=Math.ceil(Math.log(i.alphaMin())/Math.log(1-i.alphaDecay()));c<N;++c)i.tick();var F=dt.forceSimulation().nodes(s.filter(function(t){return 10<t.count})).force("gravity1",dt.forceManyBody(-10).distanceMax(50).distanceMin(0)).alpha(0).on("tick",function(){l.attr("transform",function(t){return"translate("+t.x+" "+t.y+")"})}),d=st.append("g").datum(et).selectAll(".circle").data(function(t){return t}).enter().append("circle").attr("r",function(t){return t.r}).attr("class",function(t){return t.color}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).on("mouseover",function(e){e.id!=f&&(u=!1);dt.select("#card").classed("is-active");(function(t){var e=t.cluster;l.filter(function(t){return t.cluster==e}).classed("hovered",!0)})(e),q(e);var t=X.find(function(t){return t.id===e.clusterMin}),n="";Array.isArray(e.cloneClusters)&&(n=e.cloneClusters.map(function(e){return X.find(function(t){return t.id==e})}));I(),T(e.id);var r='<span class="name">'+e.name+" </span><br/>";r+=tt?'<span class="value">'+e.fraction+", "+e.total_years+" "+(0,gt.default)(e.total_years,"год в СФ","года в СФ","лет в СФ")+"</span><br/>":'<span class="value">'+e.fraction+", "+e.convocations+" "+(0,gt.default)(e.convocations,"созыв","созыва","созывов")+"</span><br/>";""==n&&(r+='<span class="value">'+t.name+"</span><br/>");""!=n&&(r+='<span class="value">'+n.map(function(t){return t.name})+"</span><br/>");ct.showTooltip(r,dt.event)}).on("mouseout",function(t){dt.select("#card").classed("is-active");u||(st.select("g.links").remove(),I());ct.hideTooltip(),l.classed("hovered",!1)}).on("click",P),l=st.append("g").datum(s).selectAll(".g").data(function(t){return t}).enter().append("g").attr("class","lobby_label").style("opacity",0).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("transform",function(t){return"translate("+t.x+" "+t.y+")"}).each(function(e){var t=X.find(function(t){return e.clusterName==t.name}).alias;dt.select(this).append("text").text(t.charAt(0).toUpperCase()+t.slice(1)).each(R).each(H)}),u=!1,f=!1,p=dt.select("#clusters > svg#chart"),G=dt.select("svg#chart > g").attr("class","all"),y=1,h=dt.zoomIdentity.translate(0,0).scale(1),_=dt.zoom(),t=document.getElementById("chart").viewBox.baseVal.width,o=document.getElementById("chart").viewBox.baseVal.height,v=document.getElementById("chart").viewBox.baseVal.x,m=document.getElementById("chart").viewBox.baseVal.y,b=ut()?10:5;function H(){var t=this.getBBox().width+4,e=this.getBBox().height,n=this.getBBox().x-2,r=this.getBBox().y;dt.select(this.parentNode).insert("rect","text").attr("x",n).attr("y",r).attr("width",t).attr("height",e).attr("class","backForLabel")}function R(){for(var t,e=dt.select(this),n=e.text().split(/\s+/).slice(0,3).reverse(),r=[],o=e.text(null).attr("y",-n.length/2+"em");t=n.pop();)r.push(t),o.text(r.join(" ")),50<o.node().getComputedTextLength()&&(r.pop(),o.text(r.join(" ")),r=[t],o=e.append("tspan").attr("x",0).attr("dy","1em").text(t))}_.scaleExtent([1,b]).translateExtent([[v,m],[t,o]]).extent([[v,m],[t,o]]).on("zoom",function(){vt.default.zoom_actions(G,y,p)}).on("end",function(){y=dt.event.transform.k,vt.default.zoomEndFunction(l,s,_,tt)}),dt.select("#zoom-in").on("click",function(){dt.event.preventDefault(),_.scaleBy(p.transition().duration(400),1.3)}),dt.select("#zoom-out").on("click",function(){dt.event.preventDefault(),_.scaleBy(p.transition().duration(400),1/1.3)}),dt.select("#zoom-home").on("click",function(){dt.event.preventDefault(),vt.default.zoom_reset(l,p,_,h)}),p.call(_).on("wheel.zoom",null),window.onresize=function(t){lt()},E(),j("select_committees","Комитет","committees"),j("select_position_gd","Должность в ГД","positions"),j("select_region","Регион","region");var b=document.getElementById("convocations"),v=document.getElementById("age"),V=(x=pt.default.create(b,{start:[tt?0:1,A()],step:1,connect:!0,range:{min:tt?0:1,max:A()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("slider-snap-value-lower"),document.getElementById("slider-snap-value-upper")]),W=(w=pt.default.create(v,{start:[O(),M()],step:1,connect:!0,range:{min:O(),max:M()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("age-slider-snap-value-lower"),document.getElementById("age-slider-snap-value-upper")]),g=(x.on("update",function(t,e){V[e].innerHTML=t[e]}),w.on("update",function(t,e){W[e].innerHTML=t[e]}),w.on("change",function(t,e){C()}),x.on("change",function(t,e){C()}),document.getElementById("search"));new yt.default(g,{list:J.map(function(t){return t.fullname})}),g.addEventListener("awesomplete-highlight",function(t){g.value=t.text.value,C()}),g.addEventListener("awesomplete-selectcomplete",function(t){C()}),dt.selectAll("#presets-first a").nodes().forEach(function(t){t.id;var e=t.getAttribute("data-lobby"),n=t.getAttribute("data-age_min"),r=t.getAttribute("data-age_max"),o=t.getAttribute("data-conv_min"),a=t.getAttribute("data-conv_max"),i=t.getAttribute("data-method"),s=t.getAttribute("data-comittee"),c=t.getAttribute("data-gender"),l=t.getAttribute("data-fio"),u=t.getAttribute("data-fraction"),f=t.getAttribute("data-power");t.addEventListener("click",function(t){t.preventDefault(),S(),n&&r&&w.set([n,r]),o&&a&&x.set([o,a]),i&&dt.select('#method button[value="'+i+'"]').classed("is-active",!0),u&&dt.selectAll("#fraction button").classed("is-active",!1),dt.select('#fraction button[value="'+u+'"]').classed("is-active",!0),s&&dt.select("select#select_committees").property("value",s),c&&dt.select('#gender button[value="'+c+'"]').classed("is-active",!0),l&&dt.select("input#search").property("value",l),e&&dt.select("select#select_lobby").property("value",+e),f&&dt.select('#power button[value="'+f+'"]').classed("is-active",!0),C()})}),X.forEach(function(t){null==t.parent&&(t.parent=1)}),X.push({id:1,name:"root",parent:"0"});var x,w,m=mt.default.list_to_tree(X.sort(function(t,e){return t.order-e.order})),t=[],m=(mt.default.tree_to_collection(m[0],"children",{},t),dt.select("#controls").select("select#select_lobby").on("change",C));function j(t,e,n){var r=[];Y.forEach(function(t){var e=t[n];Array.isArray(e)?e.forEach(function(t){r.push({key:t})}):r.push({key:t[n]})});var o=dt.nest().key(function(t){return t.key}).entries(r).flatMap(function(t){return t.key}).sort(dt.ascending),t=dt.select("#controls").select("select#"+t).on("change",C);t.append("option").text(e).attr("value",-1),t.selectAll("option.opt").data(o).enter().append("option").attr("value",function(t){return t}).text(function(t){return"committees"==n?t&&t.replace("Комитет ГД п","П"):t})}function A(){return tt?Math.max.apply(Math,xt(Y.map(function(t){return+t.total_years}))):Math.max.apply(Math,xt(Y.map(function(t){return+t.convocations})))}function O(){return Math.min.apply(Math,xt(Y.map(function(t){return+t.age})))}function M(){return Math.max.apply(Math,xt(Y.map(function(t){return+t.age})))}function k(t){return document.querySelector(t).viewBox.baseVal}function U(e){if(e){var t=dt.select("#enclose"+e);if(!t.node()){var n=et.find(function(t){return t.cluster==e||t.clusterMin==e}),r=X.find(function(t){return t.id==n.clusterParent});if(!r)return;if(t=dt.select("#enclose"+r.id),p.attr("data-current_enclose")==r.id)return;p.attr("data-current_enclose",r.id)}e=t,ot=ut()?document.documentElement.clientHeight-80:k("svg#chart").height,rt=k("svg#chart").width,r=e.attr("transform"),(t=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttributeNS(null,"transform",r);var o=(t=[(r=t.transform.baseVal.consolidate().matrix).e,r.f])[0],a=t[1],i=e.node().getBBox(),i=[[i.x+o,i.y+a],[i.x+o+i.width,i.y+a+i.height]],s=i[1][0]-i[0][0],c=i[1][1]-i[0][1],o=(i[0][0]+i[1][0])/2,a=(i[0][1]+i[1][1])/2,i=Math.max(1,Math.min(5,.9/Math.max(s/rt,c/ot))),s=[rt/2-i*o-30,ot/2-i*a+30],t=dt.zoomIdentity.translate(s[0],s[1]).scale(i);p.transition().duration(450).call(_.transform,t)}}function C(t){(0,ft.default)(".hero-body").removeClass("is-loading");var e,n,r,o,a,i=dt.select("input#search").property("value"),s=dt.select("select#select_lobby").property("value"),c=(tt&&(e=dt.select("select#select_region").property("value")),-1!=s&&""!=s&&U(s),dt.select("select#select_committees").property("value")),l=x.get(),u=w.get(),f=(null!=dt.selectAll("#fraction .is-active").node()&&1==dt.selectAll("#fraction .is-active").size()&&(n=dt.select("#fraction .is-active").property("value")),null!=dt.selectAll("#method .is-active").node()&&(r=dt.select("#method .is-active").property("value")),null!=dt.selectAll("#gender .is-active").node()&&(o=dt.select("#gender .is-active").property("value")),tt&&null!=dt.selectAll("#power .is-active").node()&&(a=dt.select("#power .is-active").property("value")),d.filter(function(t){return(""==i||t.name.toLowerCase().includes(i.toLowerCase())||t.clusterName.toLowerCase().includes(i.toLowerCase()))&&(-1==s||!s||t.cluster==s||t.cloneClusters.includes(+s)||t.clusterParent==s||t.clusterMin==s||t.clusterParentMiddle==s)&&(!tt||!e||-1==e||t.region==e)&&(-1==c||t.committees.includes(c))&&(!!tt||+t.convocations>=+l[0]&&+t.convocations<=+l[1])&&(!tt||+t.total_years>=+l[0]&&+t.total_years<=+l[1])&&+t.age>=+u[0]&&+t.age<=+u[1]&&(!n||n==t.fraction||n==t.fraction_sf)&&(!r||t.election_method==r)&&(!o||t.gender==o)&&(!a||t.goverment_body==a)}));f.size()!=d.size()?t||dt.select("#clear").classed("is-hidden",!1):dt.select("#clear").classed("is-hidden",!0),K(f)}function K(r){var o=d.size(),a=o,i=dt.transition().duration(10).ease(dt.easeLinear);d.classed(function(t){return t.color},!0).transition().style("opacity",.2).on("end",function(){var e,t,n;0===--a&&0<--o&&(r.transition(i).style("opacity",1),l.transition().style("opacity",0),e=r.data().map(function(t){return t.cluster}),t=s.filter(function(t){return e.includes(t.cluster)}),n=(0,_t.default)(t,y,tt).map(function(t){return t.cluster}),l.filter(function(t){return e.includes(t.cluster)}),l.filter(function(t){return n.includes(t.cluster)}).transition().style("opacity",1))})}function S(){dt.select("#clear").classed("is-hidden",!0),p.attr("data-current_enclose",null),x.reset(),w.reset(),dt.selectAll("#search").property("value",""),dt.selectAll("#controls button").classed("is-active",!1),dt.selectAll("#controls #fraction button").classed("is-active",!0),dt.selectAll("select").property("selectedIndex",0),d.classed(function(t){return t.color},!0).transition().style("opacity",1);var e=(0,_t.default)(s,y,tt).map(function(t){return t.cluster});l.style("opacity",0).filter(function(t){return e.includes(t.cluster)}).transition().style("opacity",1),vt.default.zoom_reset(l,p,_,h)}function E(){Q.forEach(function(e){var t,n=st.select("path.enclose#enclose"+e.id),r=D.filter(function(t){return t.clusterParent==e.id}),r=dt.packEnclose(r);r&&(t=dt.arc().innerRadius(Math.max(50,r.r)).outerRadius(Math.max(50,r.r)).startAngle(3.14/180*-180).endAngle(3.14/180*180),n.transition().duration(100).attr("transform","translate("+r.x+","+r.y+")").attr("d",t()))}),d.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),l.attr("transform",function(t){return"translate("+t.x+" "+t.y+")"}),n&&r.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}function P(t){u=!0,f=t.id,I(),q(t),T(t.id),e=t.id,L(),d.filter(function(t){return t.id==e}).classed("activeCircle",!0),(0,ft.default)("#clusters").addClass("is-loading");var e,n,r=function(e){var t=Z.find(function(t){return t.id_declarator==e}),n=dt.max(Z.map(function(t){return+t.podpis/(+t.vnes+t.podpis)*10+1}));t||((t=new Object).no=!0,t.vnes=-1,t.podpis=-1,t.sred_day=-1);var n=[1,n],n=dt.scaleLog().domain(n).range([4,10]),r=1;t.no||(r=t.podpis/(t.podpis+t.vnes)*10+1);t.vnes<5&&(r=1);t.no&&(r=1);n=n(r);return t.log=n,t}(t.person),o=(a=t.groups,n="",a.forEach(function(e,t){0<t&&(n+=", "),n+=X.find(function(t){return t.id==e}).name}),n),a=(0,bt.getLayoutVars)().isProd?"":"https://cors-anywhere.herokuapp.com/",i=a+"https://declarator.org/api/lobbist/"+t.lobbist+"/",a=a+"https://declarator.org/api/v1/search/sections/?person="+t.person;Promise.all([dt.json(i),dt.json(a)]).then(function(t){e=2;var t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,s=[],c=!0,l=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){l=!0,o=t}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(t,e)||wt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),e=t[0],t=t[1];(0,ft.default)("#clusters").removeClass("is-loading"),new ht.default(e,r,o,X,t)})}function T(e){d.filter(function(t){return t.id===e}).attr("stroke","#000").attr("stroke-width","2px")}function I(){d.attr("stroke","none")}function L(){d.classed("activeCircle",!1)}function q(e){var t=et.filter(function(t){return t.id==e.id}).map(function(t){return{source:e.uniq,target:t.uniq,value:1}});n=t.map(function(t){return Object.create(t)}),st.select("g.links").remove(),r=st.insert("g",":first-child").classed("links",!0).attr("stroke","#999").selectAll("line").data(n).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),i.force("link",dt.forceLink(n).id(function(t){return t.uniq}).strength(0)),E()}dt.selectAll(".buttons button").on("click",function(){dt.select(this).attr("value");var t=dt.select(this.parentNode).selectAll("button");dt.select(this).classed("is-active")?"fraction"!=dt.select(this.parentNode).attr("id")?dt.select(this).classed("is-active",!1):(1<dt.select(this.parentNode).selectAll("button.is-active").size()?t.classed("is-active",!1):t.classed("is-active",!0),dt.select(this).classed("is-active",!0)):(t.classed("is-active",!1),dt.select(this).classed("is-active",!0)),C()}),m.append("option").text("Группа интересов").attr("value",-1),m.selectAll("option.opt").data(t).enter().append("option").classed("opt",!0).attr("value",function(t){return t.id}).text(function(t){var e,n=+t.level;return 0==n&&(e=" "),1==n&&(e="    "),2==n&&(e="        "),0==n?e+t.name.toUpperCase():e+t.name}).each(function(t){0==t.level&&((t=document.createElement("option")).disabled=!0,this.nextSibling)&&this.parentNode&&this.parentNode.insertBefore(t,this)}).each(function(e){0==et.filter(function(t){return t.cluster==e.id||t.clusterParent==e.id||t.clusterParentMiddle==e.id||t.clusterMin==e.id}).length&&(dt.select(this).property("disabled",!0),dt.select(this).remove())}),C("init"),dt.select("#search").on("keyup",C),dt.select("#clear").on("click",S);var $=window.location.hash;$&&(o=et.find(function(t){return t.person==$.replace("#id","")}))&&(u=!0,P(o),d.classed(function(t){return t.color},!0).transition().style("opacity",1)),window.addEventListener("closeCard",function(){st.select("g.links").remove(),I(),L(),u=!1})}a.default.then(function(t){var c;Y=t.data,X=t.lobby,Q=t.lobby_level_0,t.myGroups,e=t.myArrGroups,J=t.rawDep,Z=t.rawRating,tt=t.isSF,st=dt.select("#clusters").append("svg").attr("id","chart").append("g"),lt(),Y.length,t=e.length,dt.scaleOrdinal().domain(["Единая Россия","ЛДПР","КПРФ","Справедливая Россия"]).domain([f.FRACTION.er,f.FRACTION.ldpr,f.FRACTION.kprf,f.FRACTION.spr]).range(["is-color-er","is-color-yellow","is-color-red","is-color-orange"]).unknown("is-color-gray"),dt.scaleSequential(dt.interpolateRainbow).domain(dt.range(t)),nt=new Array(t),c=0,(et=Y.map(function(e){var t,n,r=X.find(function(t){return t.id===e.group}),o=(0==r.level&&(t=r.id),1==r.level&&(t=X.find(function(t){return t.id==r.parent}).id),2==r.level&&(t=X.find(function(t){return t.id==X.find(function(t){return t.id==r.parent}).parent}).id,n=X.find(function(t){return t.id==r.parent}).id,s=X.find(function(t){return t.id==r.parent}).name),+e.group),a=n||o,i=e.rating,e={person:e.person,name:e.name,fraction:e.fraction,id:e.id,lobbist:e.lobbist,groups:e.groups,gender:e.gender,age:e.age,cluster:n||o,clusterMin:o,clusterName:n?s:r.name,clusterLevel:r.level,clusterParent:t,clusterParentMiddle:n||null,color:null==(o=f.FRACTION[e.fraction])?void 0:o.color,election_method:e.election_method,committees:e.committees,convocations:e.convocations,uniq:c++,r:e.rating,region:e.region,goverment_body:e.goverment_body,total_years:e.total_years,x:+rt/2+Math.random(),y:+ot/2+Math.random()},s=0,s=nt[a]?nt[a].count+1:1;return(!nt[a]||i>nt[a].r)&&(nt[a]=e),nt[a].count=s,e})).sort(function(t,e){return e.count-t.count}),et.sort(function(t,e){return t.clusterParent-e.clusterParent}),et.forEach(function(e){e.cloneClusters="null";var n=et.filter(function(t){return t.id==e.id&&t.cluster==e.cluster}),t=(1<n.length&&n.forEach(function(t,e){0<e&&(t.clone="yes"),t.cloneClusters=n.map(function(t){return t.clusterMin})}),et.filter(function(t){return t.id==e.id}));1<t.length&&t.forEach(function(t,e){t.dupelganger=0<e?1:0}),e.hasClones=1<t.length?1:0}),et=(i=et).filter(function(t){return"yes"!=t.clone}),tt&&!l&&((t=document.getElementById("scrollytelling")).style.display="block",s=t.getBoundingClientRect(),n()),r()})};var ft=r(t("jquery")),dt=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=s(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),pt=r(t("nouislider")),yt=r(t("awesomplete")),o=r(t("../vendor/tooltip")),a=r(t("./data")),u=r(t("../tools/storyTelling")),ht=r(t("./card")),_t=r(t("../tools/showed_clusters")),vt=r(t("../tools/zoom")),mt=r(t("../tools/tree")),bt=t("./layout_vars"),gt=r(t("../tools/pluralize")),f=t("../lib/fractions");function s(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(s=function(t){return t?n:e})(t))}function r(t){return t&&t.__esModule?t:{default:t}}function xt(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||wt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){var n;if(t)return"string"==typeof t?c(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},{"../lib/fractions":1,"../tools/pluralize":14,"../tools/showed_clusters":15,"../tools/storyTelling":16,"../tools/tree":17,"../tools/zoom":18,"../vendor/tooltip":19,"./card":5,"./data":7,"./layout_vars":10,awesomplete:"awesomplete",d3:"d3",jquery:"jquery",nouislider:"nouislider"}],7:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),r=t("./layout_vars"),s=t("../lib/fractions");function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}var o,l,u,t="https://cors-anywhere.herokuapp.com/",f=[],d=[],p=[],y=new Set,h=new Array,_="sf"===(0,r.getLayoutVars)().type,t=((0,r.getLayoutVars)().isProd?"":t)+"https://declarator.org/media/dumps/",t={duma_7:[t+"lobbist-small-d7.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],duma_8:[t+"lobbist-small-d8.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],sf:[t+"lobbist-small-sf.json",t+"lobby-group.json","/assets/data/rating-sf.json","/assets/data/alias.json"]}[(0,r.getLayoutVars)().type],v=[],r=(t.forEach(function(t){v.push(a.json(t))}),Promise.all(v).then(function(t){o=_?t[0]:t[0].filter(function(t){return t.convocations&&0<t.convocations.length});var e,r,n=t[1];return l=t[2],u=t[3],t=o,Object.defineProperties(Array.prototype,{flatMap:{value:function(t){return Array.prototype.concat.apply([],this.map(t))},writeable:!1,enumerable:!1}}),f=t.flatMap(function(n){var r=n.groups,o=(0==r.length&&(r=[11851]),Math.floor(6*Math.random()),function(e){var t=l.find(function(t){return t.id_declarator==e}),n=a.max(l.map(function(t){return+t.podpis/(+t.vnes+t.podpis)*10+1}));t||((t=new Object).no=!0,t.vnes=-1,t.podpis=-1,t.sred_day=-1);var n=[1,n],r=_?[8,14]:[4,10],n=a.scaleLog().domain(n).range(r),r=1;t.no||(r=t.podpis/(t.podpis+t.vnes)*10+1);t.vnes<5&&(r=1);t.no&&(r=1);n=n(r);return t.log=n,t}(n.person));return r.map(function(t){return y.add(t),{id:n.id,name:n.fullname,fraction:(0,s.getFraction)(n).slug,gender:n.gender,age:(e=new Date(n.birth_date),e=Date.now()-e.getTime(),e=new Date(e),Math.abs(e.getUTCFullYear()-1970)),group:t,groups:r,person:n.person,lobbist:n.lobbist,rating:o.log,election_method:n.election_method,committees:_?"0"!==(e=n.committee)&&null!=e&&""!==e?[e]:["Вне комитетов"]:n.committees,convocations:0!=n.convocations.length?n.convocations.length:1,region:n.region?n.region.name:null,goverment_body:n.goverment_body,total_years:n.total_years};var e})}),e=0,y.forEach(function(t){h.push({id:e++,val:t})}),u=u.map(function(t){return""==t.alias&&(t.alias="null"),{id:t.id,name:t.name,alias:t.alias}}),r=u,d=n.map(function(e,t){var n=r.find(function(t){return t.name==e.name}),n=n&&"null"!=n.alias?n.alias:e.name;return{index:t,id:e.id,name:e.name,parent:e.parent,order:e.order,level:e.level,tree_id:e.tree_id,alias:n}}),p=d.filter(function(t){return 0==t.level}),{lobby:d,lobby_level_0:p,data:f,rawRating:l,rawDep:o,myGroups:y,myArrGroups:h,isSF:_}}));n.default=r},{"../lib/fractions":1,"./layout_vars":10,d3:"d3"}],8:[function(t,e,n){"use strict";t=(t=t("jquery"))&&t.__esModule?t:{default:t};var r=(0,t.default)("#header-selector"),o="selector-control_open";r.on("click",function(){r.toggleClass(o)}),(0,t.default)(document).on("click",function(t){var e=r.hasClass(o),t=!r.is(t.target)&&0===r.has(t.target).length;e&&t&&r.toggleClass(o)})},{jquery:"jquery"}],9:[function(t,e,n){"use strict";var r=i(t("jquery")),o=i(t("./chart")),a=t("./layout_vars");function i(t){return t&&t.__esModule?t:{default:t}}(0,r.default)(document).ready(function(){"default"===(0,a.getLayoutVars)().layout&&((0,r.default)(".hero-body").addClass("is-loading"),(0,o.default)())})},{"./chart":6,"./layout_vars":10,jquery:"jquery"}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLayoutVars=void 0;n.getLayoutVars=function(){return window.LAYOUT_VARS}},{}],11:[function(t,e,n){"use strict";var r=(t=t("jquery"))&&t.__esModule?t:{default:t};function o(){(0,r.default)("#modal-legend").hide()}(0,r.default)("body").on("click","#button-show-legend",function(){var t=(0,r.default)("#modal-legend");t.css("display","flex"),t.focus()}),(0,r.default)("body").on("click",".legend__modal-close",o),(0,r.default)("body").on("blur","#modal-legend",o)},{jquery:"jquery"}],12:[function(t,e,n){"use strict";(0,((t=t("jquery"))&&t.__esModule?t:{default:t}).default)(document).ready(function(){document.getElementById("nav-toggle").addEventListener("click",function(){var t=document.getElementById("nav-toggle"),e=document.getElementById("header_menu");""==t.className?(t.className="is-active is-visible",e.className="header-menu  is-visible"):(t.className="",e.className="header-menu")})})},{jquery:"jquery"}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatDate=function(t){if(t)return new Date(t).toLocaleString(r,{year:"numeric",month:"long",day:"numeric"})};var r="ru-RU"},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n,r){t=Math.abs(t);if(!(5<=(t%=100)&&t<=20)){if(1==(t%=10))return e;if(2<=t&&t<=4)return n}return r}},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var r,o=[],a=e;a<=1&&(r=5);1<a&&(r=8);1.3<a&&(r=10);2.1<a&&(r=20);3.7<a&&(r=30);return[11550,11593,11679,11727,11739,null].forEach(function(e){11727===e&&n&&a<=1.6&&(r=1),o=o.concat(t.filter(function(t){return t.clusterParent==e}).sort(function(t,e){return e.count-t.count}).slice(0,r).map(function(t){return t.cluster}))}),t.filter(function(t){return o.includes(t.cluster)})}},{}],16:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=s(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function s(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(s=function(t){return t?n:e})(t))}var o=46.5,l=[];function a(t,e){var n;for(e.dist=function(t){var e=t.x,n=t.y,e=(e+=n/2)*e+(n*=Math.sqrt(3)/2)*n+.001*Math.atan2(t.x,t.y);return e=this.half&&(e-=Math.pow(o,2),e=Math.abs(e),.5<n)?1/0:e}.call(this,e),n=0;n<t.length;n++)if(e.dist<t[n].dist){t.splice(n,0,e);break}n==t.length&&t.push(e)}function c(t,e,n){var r=this;this.half=n,this.dist=t,this.center=e,this.data=[],this.stack=[{x:0,y:0,dist:0}],this.half&&(this.stack[0].x=-o-1),this.getPoint=function(t){for(;r.data.length<=t&&0<r.stack.length;){var e=r.stack.shift();[{x:e.x-5,y:+e.y},{x:e.x+5,y:+e.y},{x:+e.x,y:e.y-5},{x:+e.x,y:e.y+5}].filter(function(e){var n=!1;return r.data.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),r.stack.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),!n}).forEach(function(t){a.call(r,r.stack,t)}),e.transformed=r.transform(e),r.data.push(e)}return r.data[t].transformed},this.transform=function(t){var e=t.x,t=t.y;return e+=t/2,t*=Math.sqrt(3)/2,e*=r.dist,t*=r.dist,{x:e+=r.center.x,y:t+=r.center.y}}}var r,u=[],f=(u[0]=[1],u[1]=[1,11851],u[2]=[11593,11551,11739,11701,11696,11697,11710,11720,11562,11717,11683,11698,11589,11713],u[3]=[11593,11551,11739,11720,11701,11696,11697,11710,11562,11683,11698],u[4]=[11551,11724,11573,11703,11552,11646,11559,11758,11696,11693],{11593:"Регионы",11551:"Силовики",11739:"Крупный бизнес и госкорпорации",11701:"Строительство, девелопмент",11696:"Сельское хозяйство",11697:"Лесное, рыбное хозяйство",11710:"Здравоохранение",11720:"Госуправление",11562:"ФОИВы",11717:"Финансы, банки",11683:"Топливная промышленность",11698:"Транспорт и связь",11589:"Банк России",11713:"Образование и наука",11724:"Адвокаты",11573:"Роскомнадзор",11703:"Телекоммуникации, IT",11552:"ФСБ",11699:"транспорт",11760:"ОАО РЖД",11758:"ГК Ростех",11809:"ГК Росатом",11783:"АО ОСК",11646:"Крым",11559:"МЧС",11693:"Алкоголь",1:"",11851:""}),d=[],p=[],y=0,h={0:1,1:2,2:4,3:4,4:4,5:4};null!==t.select("#scrollytelling").node()&&((r=document.getElementById("scrollytelling")).style.display="block",t=t.select("#scrollytelling").node().getBoundingClientRect(),r.style.display="none",y=600/(t.width/t.height),u.forEach(function(t,o){t.forEach(function(t,e){var n=+h[o],r=y-20*n,e=0===o?{x:300,y:y/2}:{x:e%n*600/n+600/n/2,y:10+((e-e%n)/n*(r/n+30)+r/n/2+10)};d[o]=d[o]||[],d[o][t]=new c(1.5,e,0===o?1:0),p[o]=p[o]||[],p[o][t]=e})}));n.default={updater:function(s){var c=[],n=[];return u[s].forEach(function(o){for(var a=l.filter(function(t){return t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o}),t=(0===s&&(a=l),1===s&&1===o&&(a=l.filter(function(t){return 11851!==t.clusterMin})),f[o]),e=(0!==a.length&&n.push({x:p[s][o].x,y:p[s][o].y-y/h[s]/2,text:t||""}),0),i=-1;e<a.length;e++)!function(t,e){var n=a[t],r=(n.dupelganger?(t=l.find(function(t){return t.id===n.id&&0===t.dupelganger}),(t=(r=a.find(function(t){return t.id===n.id&&t.uniq!==n.uniq&&n.uniq>t.uniq}))?r:t)&&(t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o)||(e++,0!==s&&1!==s)||e--):e++,d[s][o].getPoint(e));c.push({x:r.x,y:r.y,color:"purple",id:n.id,name:n.name,unq:n.uniq,group:o}),i=e}(e,i)}),{deps:c,labels:n}},setDeps:function(t){l=t},setGroups:function(t){0},setHalf:function(t){0},setDonutRadius:function(t){o=t}}},{d3:"d3"}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default={list_to_tree:function(t){for(var e,n={},r=[],o=0;o<t.length;o+=1)t[n[t[o].id]=o].children=[];for(o=0;o<t.length;o+=1)("0"!==(e=t[o]).parent?t[n[e.parent]].children:r).push(e);return r},tree_to_collection:function t(e,n,r,o){if(e[n]&&0!==e[n].length)for(var a=0;a<e[n].length;a++){var i=e[n][a];r[i.id]=i,o.push(i),t(i,n,r,o)}},findAncestors:function(e,t){for(var n=[e],r=t.find(function(t){return t.id===e}),o=r&&r.parent;1!==o&&null!=o;)n.unshift(o),o=t.find(function(t){return t.id==o}).parent;return n}}},{}],18:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=l(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),c=(t=t("./showed_clusters"))&&t.__esModule?t:{default:t};function l(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(l=function(t){return t?n:e})(t))}n.default={zoomEndFunction:function(t,e,n,r){var o=s.event.transform.k,a=(0,c.default)(e,o,r).map(function(t){return t.cluster}),e=t.filter(function(t){return a.includes(t.cluster)});1<o?(s.selectAll(".maxi").style("opacity",0),s.selectAll(".midi").style("opacity",0),s.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("mini",!0),e.transition().style("opacity",1),1.3<o&&(s.selectAll(".mini").style("opacity",0),s.selectAll(".maxi").style("opacity",0),s.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("midi",!0),e.transition().style("opacity",1)),2.1<o&&(s.selectAll(".mini").style("opacity",0),s.selectAll(".midi").style("opacity",0),s.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("maxi",!0),e.transition().style("opacity",1)),3.7<o&&(s.selectAll(".mini").style("opacity",0),s.selectAll(".midi").style("opacity",0),s.selectAll(".maxi").style("opacity",0),t.attr("class","lobby_label"),e.classed("super",!0),e.transition().style("opacity",1))):(s.select("svg#chart").on("zoom",null),s.selectAll(".mini").style("opacity",0),s.selectAll(".midi").style("opacity",0),s.selectAll(".maxi").style("opacity",0),s.selectAll(".super").style("opacity",0),e.transition().style("opacity",1),t.attr("class","lobby_label"))},zoom_actions:function(t,e,n){n.attr("data-current_enclose",null),t.attr("transform",s.event.transform)},zoom_reset:function(t,e,n,r){s.select("svg#chart.desktop").attr("viewBox","-100 0 1200 600"),e.attr("data-current_enclose",null),t.transition().style("opacity",0),e.transition().duration(750).call(n.transform,r)}}},{"./showed_clusters":15,d3:"d3"}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var i=d3.select("body").append("div").attr("class","tooltip").attr("id",t).style("pointer-events","none");e&&i.style("width",e);function n(){i.style("opacity",0)}function r(t){var e=i.style("width"),n=i.style("height"),r=window.scrollY,o=window.scrollX,a=document.all?t.clientX+o:t.pageX,t=document.all?t.clientY+r:t.pageY,e=a-o+20+e>window.innerWidth?a-e-20:a+10,a=(e<o+10&&(e=o+10),t-r+20+n>window.innerHeight?t-n-20:t+10);i.style("top",(a=a<r+10?t+10:a)+"px").style("left",e+"px")}return n(),{showTooltip:function(t,e){i.style("opacity",1).html(t),r(e)},hideTooltip:n,updatePosition:r}}},{}],20:[function(t,e,n){t=t("./_getNative")(t("./_root"),"DataView");e.exports=t},{"./_getNative":70,"./_root":105}],21:[function(t,e,n){var r=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),i=t("./_hashHas"),t=t("./_hashSet");function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=t,e.exports=s},{"./_hashClear":76,"./_hashDelete":77,"./_hashGet":78,"./_hashHas":79,"./_hashSet":80}],22:[function(t,e,n){var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),i=t("./_listCacheHas"),t=t("./_listCacheSet");function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=t,e.exports=s},{"./_listCacheClear":87,"./_listCacheDelete":88,"./_listCacheGet":89,"./_listCacheHas":90,"./_listCacheSet":91}],23:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Map");e.exports=t},{"./_getNative":70,"./_root":105}],24:[function(t,e,n){var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),i=t("./_mapCacheHas"),t=t("./_mapCacheSet");function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=a,s.prototype.has=i,s.prototype.set=t,e.exports=s},{"./_mapCacheClear":92,"./_mapCacheDelete":93,"./_mapCacheGet":94,"./_mapCacheHas":95,"./_mapCacheSet":96}],25:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Promise");e.exports=t},{"./_getNative":70,"./_root":105}],26:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Set");e.exports=t},{"./_getNative":70,"./_root":105}],27:[function(t,e,n){var r=t("./_MapCache"),o=t("./_setCacheAdd"),t=t("./_setCacheHas");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=t,e.exports=a},{"./_MapCache":24,"./_setCacheAdd":106,"./_setCacheHas":107}],28:[function(t,e,n){var r=t("./_ListCache"),o=t("./_stackClear"),a=t("./_stackDelete"),i=t("./_stackGet"),s=t("./_stackHas"),t=t("./_stackSet");function c(t){t=this.__data__=new r(t);this.size=t.size}c.prototype.clear=o,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=s,c.prototype.set=t,e.exports=c},{"./_ListCache":22,"./_stackClear":109,"./_stackDelete":110,"./_stackGet":111,"./_stackHas":112,"./_stackSet":113}],29:[function(t,e,n){t=t("./_root").Symbol;e.exports=t},{"./_root":105}],30:[function(t,e,n){t=t("./_root").Uint8Array;e.exports=t},{"./_root":105}],31:[function(t,e,n){t=t("./_getNative")(t("./_root"),"WeakMap");e.exports=t},{"./_getNative":70,"./_root":105}],32:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}},{}],33:[function(t,e,n){var u=t("./_baseTimes"),f=t("./isArguments"),d=t("./isArray"),p=t("./isBuffer"),y=t("./_isIndex"),h=t("./isTypedArray"),_=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n,r=d(t),o=!r&&f(t),a=!r&&!o&&p(t),i=!r&&!o&&!a&&h(t),s=r||o||a||i,c=s?u(t.length,String):[],l=c.length;for(n in t)!e&&!_.call(t,n)||s&&("length"==n||a&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||y(n,l))||c.push(n);return c}},{"./_baseTimes":55,"./_isIndex":81,"./isArguments":124,"./isArray":125,"./isBuffer":127,"./isTypedArray":133}],34:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},{}],35:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},{}],36:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],37:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":118}],38:[function(t,e,n){e.exports=function(t,e,n,r){for(var o=t.length,a=n+(r?1:-1);r?a--:++a<o;)if(e(t[a],a,t))return a;return-1}},{}],39:[function(t,e,n){var o=t("./_castPath"),a=t("./_toKey");e.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}},{"./_castPath":60,"./_toKey":115}],40:[function(t,e,n){var r=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,n){return e=e(t),o(t)?e:r(e,n(t))}},{"./_arrayPush":35,"./isArray":125}],41:[function(t,e,n){var r=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(i&&i in Object(t)?o:a)(t)}},{"./_Symbol":29,"./_getRawTag":71,"./_objectToString":103}],42:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],43:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},{"./_baseGetTag":41,"./isObjectLike":131}],44:[function(t,e,n){var i=t("./_baseIsEqualDeep"),s=t("./isObjectLike");e.exports=function t(e,n,r,o,a){return e===n||(null==e||null==n||!s(e)&&!s(n)?e!=e&&n!=n:i(e,n,r,o,t,a))}},{"./_baseIsEqualDeep":45,"./isObjectLike":131}],45:[function(t,e,n){var f=t("./_Stack"),d=t("./_equalArrays"),p=t("./_equalByTag"),y=t("./_equalObjects"),h=t("./_getTag"),_=t("./isArray"),v=t("./isBuffer"),m=t("./isTypedArray"),b="[object Arguments]",g="[object Array]",x="[object Object]",w=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=_(t),s=_(e),c=i?g:h(t),s=s?g:h(e),l=(c=c==b?x:c)==x,u=(s=s==b?x:s)==x;if((s=c==s)&&v(t)){if(!v(e))return!1;l=!(i=!0)}if(s&&!l)return a=a||new f,i||m(t)?d(t,e,n,r,o,a):p(t,e,c,n,r,o,a);if(!(1&n)){i=l&&w.call(t,"__wrapped__"),c=u&&w.call(e,"__wrapped__");if(i||c)return o(i?t.value():t,c?e.value():e,n,r,a=a||new f)}return s&&(a=a||new f,y(t,e,n,r,o,a))}},{"./_Stack":28,"./_equalArrays":63,"./_equalByTag":64,"./_equalObjects":65,"./_getTag":73,"./isArray":125,"./isBuffer":127,"./isTypedArray":133}],46:[function(t,e,n){var p=t("./_Stack"),y=t("./_baseIsEqual");e.exports=function(t,e,n,r){var o=n.length,a=o,i=!r;if(null==t)return!a;for(t=Object(t);o--;){var s=n[o];if(i&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){var c=(s=n[o])[0],l=t[c],u=s[1];if(i&&s[2]){if(void 0===l&&!(c in t))return!1}else{var f,d=new p;if(!(void 0===(f=r?r(l,u,c,t,e,d):f)?y(u,l,3,r,d):f))return!1}}return!0}},{"./_Stack":28,"./_baseIsEqual":44}],47:[function(t,e,n){var r=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),s=/^\[object .+?Constructor\]$/,t=Function.prototype,c=Object.prototype,t=t.toString,c=c.hasOwnProperty,l=RegExp("^"+t.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||o(t))&&(r(t)?l:s).test(i(t))}},{"./_isMasked":84,"./_toSource":116,"./isFunction":128,"./isObject":130}],48:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isLength"),a=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&o(t.length)&&!!i[r(t)]}},{"./_baseGetTag":41,"./isLength":129,"./isObjectLike":131}],49:[function(t,e,n){var r=t("./_baseMatches"),o=t("./_baseMatchesProperty"),a=t("./identity"),i=t("./isArray"),s=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):r(t):s(t)}},{"./_baseMatches":51,"./_baseMatchesProperty":52,"./identity":123,"./isArray":125,"./property":136}],50:[function(t,e,n){var r=t("./_isPrototype"),o=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e,n=[];for(e in Object(t))a.call(t,e)&&"constructor"!=e&&n.push(e);return n}},{"./_isPrototype":85,"./_nativeKeys":101}],51:[function(t,e,n){var r=t("./_baseIsMatch"),o=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(e){var n=o(e);return 1==n.length&&n[0][2]?a(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},{"./_baseIsMatch":46,"./_getMatchData":69,"./_matchesStrictComparable":98}],52:[function(t,e,n){var o=t("./_baseIsEqual"),a=t("./get"),i=t("./hasIn"),s=t("./_isKey"),c=t("./_isStrictComparable"),l=t("./_matchesStrictComparable"),u=t("./_toKey");e.exports=function(n,r){return s(n)&&c(r)?l(u(n),r):function(t){var e=a(t,n);return void 0===e&&e===r?i(t,n):o(r,e,3)}}},{"./_baseIsEqual":44,"./_isKey":82,"./_isStrictComparable":86,"./_matchesStrictComparable":98,"./_toKey":115,"./get":121,"./hasIn":122}],53:[function(t,e,n){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],54:[function(t,e,n){var r=t("./_baseGet");e.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":39}],55:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],56:[function(t,e,n){var r=t("./_Symbol"),o=t("./_arrayMap"),a=t("./isArray"),i=t("./isSymbol"),t=r?r.prototype:void 0,s=t?t.toString:void 0;e.exports=function t(e){var n;return"string"==typeof e?e:a(e)?o(e,t)+"":i(e)?s?s.call(e):"":"0"==(n=e+"")&&1/e==-1/0?"-0":n}},{"./_Symbol":29,"./_arrayMap":34,"./isArray":125,"./isSymbol":132}],57:[function(t,e,n){var r=t("./_trimmedEndIndex"),o=/^\s+/;e.exports=function(t){return t&&t.slice(0,r(t)+1).replace(o,"")}},{"./_trimmedEndIndex":117}],58:[function(t,e,n){e.exports=function(e){return function(t){return e(t)}}},{}],59:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],60:[function(t,e,n){var r=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),i=t("./toString");e.exports=function(t,e){return r(t)?t:o(t,e)?[t]:a(i(t))}},{"./_isKey":82,"./_stringToPath":114,"./isArray":125,"./toString":142}],61:[function(t,e,n){t=t("./_root")["__core-js_shared__"];e.exports=t},{"./_root":105}],62:[function(t,e,n){var i=t("./_baseIteratee"),s=t("./isArrayLike"),c=t("./keys");e.exports=function(a){return function(t,e,n){var r,o=Object(t),e=(s(t)||(r=i(e,3),t=c(t),e=function(t){return r(o[t],t,o)}),a(t,e,n));return-1<e?o[r?t[e]:e]:void 0}}},{"./_baseIteratee":49,"./isArrayLike":126,"./keys":134}],63:[function(t,e,n){var _=t("./_SetCache"),v=t("./_arraySome"),m=t("./_cacheHas");e.exports=function(t,e,n,r,o,a){var i=1&n,s=t.length,c=e.length;if(s!=c&&!(i&&s<c))return!1;var c=a.get(t),l=a.get(e);if(c&&l)return c==e&&l==t;var u=-1,f=!0,d=2&n?new _:void 0;for(a.set(t,e),a.set(e,t);++u<s;){var p,y=t[u],h=e[u];if(void 0!==(p=r?i?r(h,y,u,e,t,a):r(y,h,u,t,e,a):p)){if(p)continue;f=!1;break}if(d){if(!v(e,function(t,e){if(!m(d,e)&&(y===t||o(y,t,n,r,a)))return d.push(e)})){f=!1;break}}else if(y!==h&&!o(y,h,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}},{"./_SetCache":27,"./_arraySome":36,"./_cacheHas":59}],64:[function(t,e,n){var r=t("./_Symbol"),l=t("./_Uint8Array"),u=t("./eq"),f=t("./_equalArrays"),d=t("./_mapToArray"),p=t("./_setToArray"),t=r?r.prototype:void 0,y=t?t.valueOf:void 0;e.exports=function(t,e,n,r,o,a,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return t.byteLength==e.byteLength&&a(new l(t),new l(e))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return u(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var s=d;case"[object Set]":s=s||p;if(t.size!=e.size&&!(1&r))return!1;var c=i.get(t);if(c)return c==e;r|=2,i.set(t,e);c=f(s(t),s(e),r,o,a,i);return i.delete(t),c;case"[object Symbol]":if(y)return y.call(t)==y.call(e)}return!1}},{"./_Symbol":29,"./_Uint8Array":30,"./_equalArrays":63,"./_mapToArray":97,"./_setToArray":108,"./eq":118}],65:[function(t,e,n){var m=t("./_getAllKeys"),b=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=1&n,s=m(t),c=s.length;if(c!=m(e).length&&!i)return!1;for(var l=c;l--;){var u=s[l];if(!(i?u in e:b.call(e,u)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;for(var p=!0,y=(a.set(t,e),a.set(e,t),i);++l<c;){var h,_=t[u=s[l]],v=e[u];if(!(void 0===(h=r?i?r(v,_,u,e,t,a):r(_,v,u,t,e,a):h)?_===v||o(_,v,n,r,a):h)){p=!1;break}y=y||"constructor"==u}return p&&!y&&(f=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof d&&d instanceof d)&&(p=!1),a.delete(t),a.delete(e),p}},{"./_getAllKeys":67}],66:[function(t,n,e){!function(e){!function(){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],67:[function(t,e,n){var r=t("./_baseGetAllKeys"),o=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return r(t,a,o)}},{"./_baseGetAllKeys":40,"./_getSymbols":72,"./keys":134}],68:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){return t=t.__data__,r(e)?t["string"==typeof e?"string":"hash"]:t.map}},{"./_isKeyable":83}],69:[function(t,e,n){var a=t("./_isStrictComparable"),i=t("./keys");e.exports=function(t){for(var e=i(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,a(o)]}return e}},{"./_isStrictComparable":86,"./keys":134}],70:[function(t,e,n){var r=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){return t=o(t,e),r(t)?t:void 0}},{"./_baseIsNative":47,"./_getValue":74}],71:[function(t,e,n){var t=t("./_Symbol"),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,s=t?t.toStringTag:void 0;e.exports=function(t){var e=a.call(t,s),n=t[s];try{var r=!(t[s]=void 0)}catch(t){}var o=i.call(t);return r&&(e?t[s]=n:delete t[s]),o}},{"./_Symbol":29}],72:[function(t,e,n){var r=t("./_arrayFilter"),t=t("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:t},{"./_arrayFilter":32,"./stubArray":137}],73:[function(t,e,n){var r=t("./_DataView"),o=t("./_Map"),a=t("./_Promise"),i=t("./_Set"),s=t("./_WeakMap"),c=t("./_baseGetTag"),l=t("./_toSource"),u="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",h=l(r),_=l(o),v=l(a),m=l(i),b=l(s),t=c;(r&&t(new r(new ArrayBuffer(1)))!=y||o&&t(new o)!=u||a&&t(a.resolve())!=f||i&&t(new i)!=d||s&&t(new s)!=p)&&(t=function(t){var e=c(t),t="[object Object]"==e?t.constructor:void 0,t=t?l(t):"";if(t)switch(t){case h:return y;case _:return u;case v:return f;case m:return d;case b:return p}return e}),e.exports=t},{"./_DataView":20,"./_Map":23,"./_Promise":25,"./_Set":26,"./_WeakMap":31,"./_baseGetTag":41,"./_toSource":116}],74:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],75:[function(t,e,n){var s=t("./_castPath"),c=t("./isArguments"),l=t("./isArray"),u=t("./_isIndex"),f=t("./isLength"),d=t("./_toKey");e.exports=function(t,e,n){for(var r=-1,o=(e=s(e,t)).length,a=!1;++r<o;){var i=d(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&f(o)&&u(i,o)&&(l(t)||c(t))}},{"./_castPath":60,"./_isIndex":81,"./_toKey":115,"./isArguments":124,"./isArray":125,"./isLength":129}],76:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":100}],77:[function(t,e,n){e.exports=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}},{}],78:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e,n=this.__data__;return r?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:o.call(n,t)?n[t]:void 0}},{"./_nativeCreate":100}],79:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":100}],80:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},{"./_nativeCreate":100}],81:[function(t,e,n){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&-1<t&&t%1==0&&t<e}},{}],82:[function(t,e,n){var r=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(t,e){var n;return!r(t)&&(!("number"!=(n=typeof t)&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e))}},{"./isArray":125,"./isSymbol":132}],83:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],84:[function(t,e,n){var t=t("./_coreJsData"),r=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";e.exports=function(t){return!!r&&r in t}},{"./_coreJsData":61}],85:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],86:[function(t,e,n){var r=t("./isObject");e.exports=function(t){return t==t&&!r(t)}},{"./isObject":130}],87:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],88:[function(t,e,n){var r=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__;return!((t=r(e,t))<0||(t==e.length-1?e.pop():o.call(e,t,1),--this.size,0))}},{"./_assocIndexOf":37}],89:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__;return(t=r(e,t))<0?void 0:e[t][1]}},{"./_assocIndexOf":37}],90:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return-1<r(this.__data__,t)}},{"./_assocIndexOf":37}],91:[function(t,e,n){var o=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},{"./_assocIndexOf":37}],92:[function(t,e,n){var r=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":21,"./_ListCache":22,"./_Map":23}],93:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return t=r(this,t).delete(t),this.size-=t?1:0,t}},{"./_getMapData":68}],94:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":68}],95:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":68}],96:[function(t,e,n){var o=t("./_getMapData");e.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},{"./_getMapData":68}],97:[function(t,e,n){e.exports=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}},{}],98:[function(t,e,n){e.exports=function(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}},{}],99:[function(t,e,n){var r=t("./memoize");e.exports=function(t){var e=(t=r(t,function(t){return 500===e.size&&e.clear(),t})).cache;return t}},{"./memoize":135}],100:[function(t,e,n){t=t("./_getNative")(Object,"create");e.exports=t},{"./_getNative":70}],101:[function(t,e,n){t=t("./_overArg")(Object.keys,Object);e.exports=t},{"./_overArg":104}],102:[function(t,e,n){var t=t("./_freeGlobal"),n="object"==typeof n&&n&&!n.nodeType&&n,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===n&&t.process,n=function(){try{var t=r&&r.require&&r.require("util").types;return t?t:o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=n},{"./_freeGlobal":66}],103:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],104:[function(t,e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},{}],105:[function(t,e,n){var t=t("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,t=t||r||Function("return this")();e.exports=t},{"./_freeGlobal":66}],106:[function(t,e,n){e.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},{}],107:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],108:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],109:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":22}],110:[function(t,e,n){e.exports=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}},{}],111:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],112:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],113:[function(t,e,n){var o=t("./_ListCache"),a=t("./_Map"),i=t("./_MapCache");e.exports=function(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":22,"./_Map":23,"./_MapCache":24}],114:[function(t,e,n){var t=t("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,t=t(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(r,function(t,e,n,r){o.push(n?r.replace(a,"$1"):e||t)}),o});e.exports=t},{"./_memoizeCapped":99}],115:[function(t,e,n){var r=t("./isSymbol");e.exports=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}},{"./isSymbol":132}],116:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],117:[function(t,e,n){var r=/\s/;e.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},{}],118:[function(t,e,n){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],119:[function(t,e,n){t=t("./_createFind")(t("./findIndex"));e.exports=t},{"./_createFind":62,"./findIndex":120}],120:[function(t,e,n){var o=t("./_baseFindIndex"),a=t("./_baseIteratee"),i=t("./toInteger"),s=Math.max;e.exports=function(t,e,n){var r=null==t?0:t.length;return r?((n=null==n?0:i(n))<0&&(n=s(r+n,0)),o(t,a(e,3),n)):-1}},{"./_baseFindIndex":38,"./_baseIteratee":49,"./toInteger":140}],121:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t,e,n){return void 0===(t=null==t?void 0:r(t,e))?n:t}},{"./_baseGet":39}],122:[function(t,e,n){var r=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,r)}},{"./_baseHasIn":42,"./_hasPath":75}],123:[function(t,e,n){e.exports=function(t){return t}},{}],124:[function(t,e,n){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),t=Object.prototype,a=t.hasOwnProperty,i=t.propertyIsEnumerable,t=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!i.call(t,"callee")};e.exports=t},{"./_baseIsArguments":43,"./isObjectLike":131}],125:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],126:[function(t,e,n){var r=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},{"./isFunction":128,"./isLength":129}],127:[function(t,e,n){var r=t("./_root"),t=t("./stubFalse"),n="object"==typeof n&&n&&!n.nodeType&&n,o=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=o&&o.exports===n?r.Buffer:void 0,n=o?o.isBuffer:void 0;e.exports=n||t},{"./_root":105,"./stubFalse":138}],128:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObject");e.exports=function(t){return!!o(t)&&("[object Function]"==(t=r(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}},{"./_baseGetTag":41,"./isObject":130}],129:[function(t,e,n){e.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},{}],130:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],131:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],132:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},{"./_baseGetTag":41,"./isObjectLike":131}],133:[function(t,e,n){var r=t("./_baseIsTypedArray"),o=t("./_baseUnary"),t=t("./_nodeUtil"),t=t&&t.isTypedArray,o=t?o(t):r;e.exports=o},{"./_baseIsTypedArray":48,"./_baseUnary":58,"./_nodeUtil":102}],134:[function(t,e,n){var r=t("./_arrayLikeKeys"),o=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return(a(t)?r:o)(t)}},{"./_arrayLikeKeys":33,"./_baseKeys":50,"./isArrayLike":126}],135:[function(t,e,n){var i=t("./_MapCache");function s(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),a.cache=n.set(e,t)||n,t)}return a.cache=new(s.Cache||i),a}s.Cache=i,e.exports=s},{"./_MapCache":24}],136:[function(t,e,n){var r=t("./_baseProperty"),o=t("./_basePropertyDeep"),a=t("./_isKey"),i=t("./_toKey");e.exports=function(t){return a(t)?r(i(t)):o(t)}},{"./_baseProperty":53,"./_basePropertyDeep":54,"./_isKey":82,"./_toKey":115}],137:[function(t,e,n){e.exports=function(){return[]}},{}],138:[function(t,e,n){e.exports=function(){return!1}},{}],139:[function(t,e,n){var r=t("./toNumber");e.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},{"./toNumber":141}],140:[function(t,e,n){var r=t("./toFinite");e.exports=function(t){var e=(t=r(t))%1;return t==t?e?t-e:t:0}},{"./toFinite":139}],141:[function(t,e,n){var r=t("./_baseTrim"),o=t("./isObject"),a=t("./isSymbol"),i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(o(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=o(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=r(t);var e=s.test(t);return e||c.test(t)?l(t.slice(2),e?2:8):i.test(t)?NaN:+t}},{"./_baseTrim":57,"./isObject":130,"./isSymbol":132}],142:[function(t,e,n){var r=t("./_baseToString");e.exports=function(t){return null==t?"":r(t)}},{"./_baseToString":56}]},{},[2]);
//# sourceMappingURL=main-9022215a.js.map
