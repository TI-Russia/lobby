!function r(o,a,i){function c(e,t){if(!a[e]){if(!o[e]){var n="function"==typeof require&&require;if(!t&&n)return n(e,!0);if(u)return u(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}n=a[e]={exports:{}},o[e][0].call(n.exports,function(t){return c(o[e][1][t]||t)},n,n.exports,r,o,a,i)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<i.length;t++)c(i[t]);return c}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FRACTIONS=void 0;n.FRACTIONS={er:{name:"Единая Россия",alias:["Единая Россия"],color:"is-color-er",id:1,slug:"er"},kprf:{name:"КПРФ",alias:["КПРФ"],color:"is-color-red",id:2,slug:"kprf"},nl:{name:"Новые люди",alias:["Новые люди"],color:"is-color-mint",id:3,slug:"nl"},sr:{name:"Справедливая Россия",alias:["Справедливая Россия"],color:"is-color-orange",id:5,slug:"sr"},ldpr:{name:"ЛДПР",alias:["ЛДПР"],color:"is-color-yellow",id:9,slug:"ldpr"},vne:{name:"Вне фракции",alias:["Вне фракции","беспартийный","беспартийная"],color:"is-color-gray",id:0,slug:"vne"}}},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.POSITIONS=void 0;n.POSITIONS={1:"Руководитель фракции",3:"Заместитель руководителя фракции",5:"Первый замруководителя фракции",6:"Председатель комитета",7:"Первый зампредседателя комитета",8:"Заместитель председателя комитета",9:"Член комитета",10:"Председатель ГД и его первые заместители",12:"Заместитель председателя Госдумы"}},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.formatNumber=function(t){return String(t).split("").reverse().reduce(function(t,e,n){return n&&n%3==0&&t.push(" "),t.push(e),t},[]).reverse().join("")},n.pageTypeToConvocation=function(t){switch(t){case"duma_7":return 7;case"duma_8":case"sf":return 8}return null}},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFraction=void 0;var r,o=(r=t("lodash/find"))&&r.__esModule?r:{default:r},a=t("../constants/fractions");n.getFraction=function(e){if(e.fraction){var t=(0,o.default)(a.FRACTIONS,function(t){return t.alias.some(function(t){return t===e.fraction})});if(t)return t;t=(0,o.default)(a.FRACTIONS,function(t){return t.id===e.fraction});if(t)return t}if(e.fraction_old){t=(0,o.default)(a.FRACTIONS,function(t){return t.alias.some(function(t){return t===e.fraction_old})});if(t)return t}return a.FRACTIONS.vne}},{"../constants/fractions":1,"lodash/find":122}],5:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.getRating=function(e,t,n){var r=t.find(function(t){return t.id_declarator==e}),t=o.max(t.map(function(t){return+t.podpis/(+t.vnes+t.podpis)*10+1}));r=r||{no:!0,vnes:-1,podpis:-1,sred_day:-1};t=[1,t],n=n?[8,14]:[4,10],t=o.scaleLog().domain(t).range(n),n=1;r.no||(n=r.podpis/(r.podpis+r.vnes)*10+1);r.vnes<5&&(n=1);r.no&&(n=1);t=t(n);return r.log=t,r};var o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}},{d3:"d3"}],6:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}t("./tools/burger"),t("./modules/data"),t("./modules/intro"),t("./modules/accordion"),t("./modules/legend"),t("./modules/about"),t("./modules/header"),window.d3=r},{"./modules/about":7,"./modules/accordion":8,"./modules/data":11,"./modules/header":12,"./modules/intro":13,"./modules/legend":15,"./tools/burger":16,d3:"d3"}],7:[function(t,e,n){"use strict";var r,o=(r=t("jquery"))&&r.__esModule?r:{default:r};"page-about"===(0,t("./layout_vars").getLayoutVars)().layout&&(document.documentElement.style.overflowY="auto",(0,o.default)(window).scroll(function(){for(var t=(0,o.default)(document).scrollTop(),e=(0,o.default)("body").find(".md-page-section"),n=0;n<e.length;n++)t+110>(0,o.default)(e[n]).offset().top&&t<(0,o.default)(e[n]).offset().top+(0,o.default)(e[n]).height()-50?(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).addClass("active"):(0,o.default)(".about-menu li#menu_"+(0,o.default)(e[n]).attr("id")).removeClass("active");200<document.body.scrollTop||200<document.documentElement.scrollTop?document.getElementById("scrollToTop").style.display="block":document.getElementById("scrollToTop").style.display="none"}),(0,o.default)(document).on("click",'a[href^="#"]',function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:(0,o.default)(o.default.attr(this,"href")).offset().top},500)}),(0,o.default)(document).on("click","#scrollToTop",function(t){t.preventDefault(),(0,o.default)("html, body").animate({scrollTop:0},500)}))},{"./layout_vars":14,jquery:"jquery"}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=(t=t("jquery"))&&t.__esModule?t:{default:t};var o="accordion:toggle";function a(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:200,t=(0,r.default)(t);e?(t.addClass("accordion_expand"),t.find(".accordion__content").slideDown(n)):(t.removeClass("accordion_expand"),t.find(".accordion__content").slideUp(n))}(0,r.default)("body").on("click",".accordion__title",function(){var t=(0,r.default)(this).closest(".accordion"),e=!t.hasClass("accordion_expand");a(t,e),t.trigger(o,e)}),n.default={EVENT_TOGGLE:o,toggle:a}},{jquery:"jquery"}],9:[function(t,e,n){"use strict";function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var s=a(t("jquery")),r=t("liquidjs"),l=a(t("../tools/tree")),f=t("../lib/common"),d=a(t("../tools/pluralize")),o=t("./layout_vars"),p=a(t("./accordion"));function a(t){return t&&t.__esModule?t:{default:t}}function S(){S=function(){return i};var i={},t=Object.prototype,u=t.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,a,i,c,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),r=new x(r||[]);return s(e,"_invoke",{value:(o=t,a=n,i=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return j()}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=l(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===c)throw c="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c="executing";n=l(o,a,i);if("normal"===n.type){if(c=i.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c="completed",i.method="throw",i.arg=n.arg)}})}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f={};function d(){}function p(){}function y(){}var e={},h=(a(e,r,function(){return this}),Object.getPrototypeOf),h=h&&h(h(w([]))),v=(h&&h!==t&&u.call(h,r)&&(e=h),y.prototype=d.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function g(i,c){var e;s(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var a,t=l(i[t],i,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==O(n)&&u.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function w(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:j}}function j(){return{value:void 0,done:!0}}return s(v,"constructor",{value:p.prototype=y,configurable:!0}),s(y,"constructor",{value:p,configurable:!0}),p.displayName=a(y,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},i.awrap=function(t){return{__await:t}},m(g.prototype),a(g.prototype,n,function(){return this}),i.AsyncIterator=g,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new g(c(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(v),a(v,o,"Generator"),a(v,r,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=w,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},i}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function y(t){throw new TypeError('"'+t+'" is read-only')}var h,v,m=new r.Liquid,t="default"===(0,o.getLayoutVars)().layout,g="sf"===(0,o.getLayoutVars)().type,_=(0,f.pageTypeToConvocation)((0,o.getLayoutVars)().type),b=g?"person_sf/":"person/",x="https://docs.google.com/forms/d/1Qaw8qWfw2PPZPtpF1PV4EyNGekXesM2qRLzwurgjHbA/viewform?edit_requested=true",w=null,j=null,A=new Set,k=0;function i(){h.hide(),h.html(""),j=w=null,k=0,A.clear(),window.dispatchEvent(new Event("closeCard")),window.history&&window.history.pushState&&window.history.pushState("backward",null,g?"./sf":"./")}function c(){var t=w,e=t.depInfo,n=t.depRating,r=t.depLobbys,o=t.depSuccessRate,a=t.lobby_list,i=t.declarations,t=t.depLobbistSmallData,i=function(){var t,e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).filter(function(t){return 1===(null==(t=t.main)||null==(t=t.document_type)?void 0:t.id)}).reduce(function(t,e){return!t||e.main.year>t.main.year?e:t},null);return e?(t=e.real_estates.reduce(function(t,e){return t+e.square},0),e=e.incomes.reduce(function(t,e){return t+e.size},0),{square:(0,f.formatNumber)(Math.round(t)),income:(0,f.formatNumber)(Math.round(e))}):{square:null,income:null}}(i.results),c=i.square,i=i.income,o=(o=(o=o.success_rate)["convocation_".concat(_)]||{},u=o.rate,{lawStatProposed:(o=o.filtered_number)||0,lawStatAccepted:Math.round(o*u/100)||0}),u=o.lawStatProposed,o=o.lawStatAccepted;h.html(m.renderSync(v,{selectedLaw:j,info:e,rating:n,lobbys:r,lastUpdate:null,editing:!1,income:i,square:c,fractionClass:{"Единая Россия":"er","КПРФ":"kprf","ЛДПР":"ldpr","Справедливая Россия":"sr","Новые люди":"nl"}[e.fraction]||"vne",positionHtml:(g?function(t){var e=t.committee,n=(null==(n=t.gender)?void 0:n.toLowerCase())||"м",r=t.region.genitive,o=t.goverment_body,a=t.position;"0"!==e&&null!=e&&""!==e||y("comitet");o.replace("исполнительный ","исполнительным "),y("chem"),o.replace("законодательный ","законодательным "),y("chem"),o.replace("орган ","органом "),y("chem"),y("chem");a+=e.replace("Комитет "," ");" "!==e&&(a+=", ");e="ж"==n||"f"==n?"делегирована ":"делегирован ",n="в Совете Федерации с "+t.start_year+" года";return a+e+o+n+". Представитель "+r}:function(t){var e=t.committee||"",n=t.election_method,r=t.convocations.length||1,t=t.gender?t.gender.toLowerCase():"м",o=e.replace("Комитет ГД ","Член комитета ");e&&(o+=", ");e="ж"==t||"f"==t?"избрана":"избран",t=2==r||3==r||4==r?" раза":" раз";return o+e+("одномандатный округ"==n?" по одномандатному округу":" по списку")+", "+(1==r?e+" впервые":e+" "+r+t)})(e),tempComissionHtml:g?function(t){t=(t||[]).map(function(t){return"<li>".concat(t.charAt(0).toUpperCase()+str.slice(1),"</li>")});return t.length?"<ul>".concat(t.join(""),"</ul>"):""}(e.temp_commission):"",lobbyHtml:function(t,n){var e=[],r=(t.forEach(function(t){t=l.default.findAncestors(t,n);e.push(t.map(function(e){return n.find(function(t){return t.id==e}).name}))}),"");e.length&&e.forEach(function(t,e,n){0!==e&&t[0]===n[e-1][0]||(r+="<h3>".concat(t[0].toLowerCase().replace(" лобби",""),"</h3>")),(t=t.slice(1)).length&&(r+="<ul>",e=(null==(n=t[0])||null==(e=n.charAt(0))?void 0:e.toUpperCase())+(null==(n=t[0])?void 0:n.slice(1)),r+="<li>".concat(e,"</li>"),t=t.slice(1),r+='<div class="content"><ul>',t.forEach(function(t){t=t.charAt(0).toUpperCase()+t.slice(1),r+="<li>".concat(t,"</li>")}),r+="</ul></div></ul>")});return'<div class="card__lobby-matrix">'.concat(r,"</div>")}(e.groups,a),twPerson:"https://twitter.com/intent/tweet?url=http%3A%2F%2Fdumabingo.ru/".concat(b).concat(e.person,"&text=").concat(e.fullname),vkPerson:"http://vk.com/share.php?url=http%3A%2F%2Fdumabingo.ru/".concat(b).concat(e.person),openDeclaration:e.person?"https://declarator.org/person/".concat(e.person):null,openRupep:t.rupep?"https://rupep.ru/person/".concat(t.rupep):null,sendForm:x+"viewform?entry.742555963=".concat(e.fullname),laws:null!=(r=t.law_draft_apis)&&r.length?t.law_draft_apis:null,lawStatProposed:u,lawStatAccepted:o,lawTextBringHtml:(0,d.default)(u,"закон<br>выдвинут","закона<br>выдвинуто","законов<br>выдвинуто"),lawTextPassed:(0,d.default)(o,"принят","принято","принято"),lawTextDay:(0,d.default)(Math.floor(String(n.sred_day).replace(",",".")),"день","дня","дней"),sredDay:Math.floor(String(n.sred_day).replace(",","."))})),j||h.find(".accordion").each(function(){var t=(0,s.default)(this).attr("data-id");A.has(t)&&p.default.toggle(this,!0,0)}),h.scrollTop(k)}function E(){var c;return c=S().mark(function t(e){var n;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://declarator.org/api/law_draft_api/".concat(e,"/")).then(function(t){return t.json()});case 3:n=t.sent,t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0),n=null;case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}},t,null,[[0,6]])}),(E=function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function o(t){u(r,e,n,o,a,"next",t)}function a(t){u(r,e,n,o,a,"throw",t)}o(void 0)})}).apply(this,arguments)}t&&(r=(h=(0,s.default)("#card")).find("#card_template").html(),v=m.parse(r),h.html(""),h.on("click","#scrollToTop",function(t){t.preventDefault(),h.animate({scrollTop:0},500)}),h.on("scroll",function(){200<h.scrollTop()?h.find("#scrollToTop").show():h.find("#scrollToTop").hide()}),h.on(p.default.EVENT_TOGGLE,".card__main-info .accordion",function(t,e){var n=(0,s.default)(this).attr("data-id");e?A.add(n):A.delete(n)}),h.on("click",".card__law-details-button",function(t){t.preventDefault();var t=(0,s.default)(this).closest(".card__law").attr("data-id");j=t=t,k=h.scrollTop(),function(){E.apply(this,arguments)}(t),c()}),h.on("click",".card__law-back-button",function(t){t.preventDefault(),j=null,c()}),h.on("click","#close_btn",i),(0,s.default)(window).on("popstate",i)),n.default=function(t){var e=t.depInfo,n=t.depRating,r=t.depLobbys,o=t.depSuccessRate,a=t.lobby,i=t.declarations,t=t.depLobbistSmallData;window.history&&window.history.pushState&&window.history.pushState({person:e.person},null,(g?"./sf#id":"./#id")+e.person),w={depInfo:e,depRating:n,depLobbys:r,depSuccessRate:o,lobby_list:a,declarations:i,depLobbistSmallData:t},k=0,A.clear(),h.show(),c()}},{"../lib/common":3,"../tools/pluralize":17,"../tools/tree":20,"./accordion":8,"./layout_vars":14,jquery:"jquery",liquidjs:"liquidjs"}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return s.apply(this,arguments)};var st=r(t("jquery")),lt=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==O(t)&&"function"!=typeof t)return{default:t};e=i(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),ft=r(t("nouislider")),dt=r(t("awesomplete")),l=r(t("../vendor/tooltip")),f=r(t("./data")),d=r(t("../tools/storyTelling")),pt=r(t("./card")),yt=r(t("../tools/showed_clusters")),ht=r(t("../tools/zoom")),vt=r(t("../tools/tree")),mt=r(t("../tools/pluralize")),gt=t("../constants/fractions"),_t=t("../constants/positions"),bt=t("../lib/rating");function i(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(i=function(t){return t?n:e})(t))}function r(t){return t&&t.__esModule?t:{default:t}}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(){S=function(){return i};var i={},t=Object.prototype,u=t.hasOwnProperty,s=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",o=e.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o,a,i,c,e=e&&e.prototype instanceof d?e:d,e=Object.create(e.prototype),r=new x(r||[]);return s(e,"_invoke",{value:(o=t,a=n,i=r,c="suspendedStart",function(t,e){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw e;return j()}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=n.method,o=e.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=void 0,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=l(o,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,i);if(n){if(n===f)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===c)throw c="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c="executing";n=l(o,a,i);if("normal"===n.type){if(c=i.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c="completed",i.method="throw",i.arg=n.arg)}})}),e}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f={};function d(){}function p(){}function y(){}var e={},h=(a(e,r,function(){return this}),Object.getPrototypeOf),h=h&&h(h(w([]))),v=(h&&h!==t&&u.call(h,r)&&(e=h),y.prototype=d.prototype=Object.create(e));function m(t){["next","throw","return"].forEach(function(e){a(t,e,function(t){return this._invoke(e,t)})})}function g(i,c){var e;s(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,o){var a,t=l(i[t],i,n);if("throw"!==t.type)return(n=(a=t.arg).value)&&"object"==O(n)&&u.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):c.resolve(n).then(function(t){a.value=t,r(a)},function(t){return e("throw",t,r,o)});o(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function b(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function w(e){if(e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(u.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:j}}function j(){return{value:void 0,done:!0}}return s(v,"constructor",{value:p.prototype=y,configurable:!0}),s(y,"constructor",{value:p,configurable:!0}),p.displayName=a(y,o,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,a(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},i.awrap=function(t){return{__await:t}},m(g.prototype),a(g.prototype,n,function(){return this}),i.AsyncIterator=g,i.async=function(t,e,n,r,o){void 0===o&&(o=Promise);var a=new g(c(t,e,n,r),o);return i.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},m(v),a(v,o,"Generator"),a(v,r,function(){return this}),a(v,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=w,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(b),!t)for(var e in this)"t"===e.charAt(0)&&u.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return a.type="throw",a.arg=n,r.next=t,e&&(r.method="next",r.arg=void 0),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var o=this.tryEntries[e],a=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var i=u.call(o,"catchLoc"),c=u.call(o,"finallyLoc");if(i&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&u.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var a=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc?null:o)?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),b(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,o=this.tryEntries[e];if(o.tryLoc===t)return"throw"===(n=o.completion).type&&(r=n.arg,b(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:w(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},i}function xt(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],u=!0,s=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){var n;if(t)return"string"==typeof t?a(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function p(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],(t=function(t){t=function(t,e){if("object"!==O(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===O(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}function u(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function s(){var c;return c=S().mark(function t(){var U,$,i,c,Y,X,J,Q,Z,tt,u,et,nt,rt,e,ot,at,it,n,s,r,o,ct,ut,a;return S().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var v=$.filter(Boolean),N=(v.sort(function(t,e){return e.count-t.count}),v.sort(function(t,e){return t.clusterParent-e.clusterParent}),U.concat(v)),q=lt.scaleLinear().domain([0,8]).range([50,Q]),B=lt.scaleLinear().domain([0,8]).range([100,Z]);function e(e){var t=v.find(function(t){return t.cluster==e});return{x:q(t.col),y:B(t.row)}}v[0].col=0,v[0].row=0,v.forEach(function(t){var e=t;switch(e.clusterParent){case 11739:e.col=.2,e.row=1.7,it&&(e.col=8.9,e.row=1.4);break;case 11679:e.col=4.6,e.row=2.2,it&&(e.col=.2,e.row=1.7);break;case 11593:e.col=8.9,e.row=1.4,it&&(e.col=4.6,e.row=2.2);break;case 11550:e.col=1.9,e.row=5.5;break;case 11727:e.col=8.5,e.row=5.9;break;default:e.col=6.4,e.row=6.1}11738==e.cluster&&(e.col=4.5,e.row=6.5)}),tt.append("g").attr("class","encloses"),rt.forEach(function(e){tt.select("g.encloses").append("path").attr("class","enclose").attr("fill","none").attr("id","enclose"+e.id),tt.select("g.encloses").append("text").attr("id","encloseText"+e.id).attr("dy",-7.5).append("textPath").attr("xlink:href","#enclose"+e.id).attr("startOffset","25%").style("text-anchor","middle").text(function(){var t=e.alias.toUpperCase();return t=t.charAt(0).toUpperCase()+t.slice(1)})});for(var n,r,t=lt.forceX(function(t){return e(t.cluster).x}),o=lt.forceY(function(t){return e(t.cluster).y}),a=0,i=lt.forceSimulation().nodes(U.sort(function(t,e){return t.cluster-e.cluster})).force("collide",function(){var e=lt.quadtree().x(function(t){return t.x}).y(function(t){return t.y}).addAll(U);U.forEach(function(s){var t=s.r+Math.max(3,15),l=s.x-t,f=s.x+t,d=s.y-t,p=s.y+t;e.visit(function(t,e,n,r,o){var a,i,c,u;return t.data&&t.data!==s&&(a=s.x-t.data.x,i=s.y-t.data.y,(c=Math.sqrt(a*a+i*i))<(u=s.r+t.data.r+(s.cluster===t.data.cluster?3:15)))&&(s.x-=a*=c=(c-u)/c*.5,s.y-=i*=c,t.data.x+=a,t.data.y+=i),f<e||r<l||p<n||o<d})})}).force("cluster",function(i){U.forEach(function(e){var t,n,r,o,a=v.find(function(t){return t.cluster==e.cluster});a!==e&&(t=e.x-a.x,n=e.y-a.y,(r=Math.sqrt(t*t+n*n))!==(o=e.r+a.r))&&(e.x-=t*=r=(r-o)/r*i,e.y-=n*=r,a.x+=t,a.y+=n)})}).force("x",t.strength(.1)).force("y",o.strength(.1)).alphaDecay(.04).on("end",function(){0==a&&F.alpha(1).restart(),a=1}).stop(),c=0,z=Math.ceil(Math.log(i.alphaMin())/Math.log(1-i.alphaDecay()));c<z;++c)i.tick();var m,g,F=lt.forceSimulation().nodes(v.filter(function(t){return 10<t.count})).force("gravity1",lt.forceManyBody(-10).distanceMax(50).distanceMin(0)).alpha(0).on("tick",function(){b.attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")})}),_=tt.append("g").datum(U).selectAll(".circle").data(function(t){return t}).enter().append("circle").attr("r",function(t){return t.r}).attr("class",function(t){return t.color}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).on("mouseover",function(e){e.id!=s&&(u=!1);(function(t){var e=t.cluster;b.filter(function(t){return t.cluster==e}).classed("hovered",!0)})(e),D(e);var t=nt.find(function(t){return t.id===e.clusterMin}),n="";Array.isArray(e.cloneClusters)&&(n=e.cloneClusters.map(function(e){return nt.find(function(t){return t.id==e})}));T(),C(e.id);var r='<span class="name">'.concat(e.name," </span><br/>");r+=it?'<span class="value">'.concat(gt.FRACTIONS[e.fraction].name,", ").concat(e.total_years," ").concat((0,mt.default)(e.total_years,"год в СФ","года в СФ","лет в СФ"),"</span><br/>"):'<span class="value">'.concat(gt.FRACTIONS[e.fraction].name,", ").concat(e.convocations," ").concat((0,mt.default)(e.convocations,"созыв","созыва","созывов"),"</span><br/>");""==n&&(r+='<span class="value">'.concat(t.name,"</span><br/>"));""!=n&&(r+='<span class="value">'.concat(n.map(function(t){return t.name}),"</span><br/>"));Y.showTooltip(r,lt.event)}).on("mouseout",function(t){u||(tt.select("g.links").remove(),T());Y.hideTooltip(),b.classed("hovered",!1)}).on("click",L),b=tt.append("g").datum(v).selectAll(".g").data(function(t){return t}).enter().append("g").attr("class","lobby_label").style("opacity",0).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")}).each(function(e){var t=nt.find(function(t){return e.clusterName==t.name}).alias;lt.select(this).append("text").text(t.charAt(0).toUpperCase()+t.slice(1)).each(H).each(R)}),u=!1,s=!1,x=lt.select("#clusters > svg#chart"),G=lt.select("svg#chart > g").attr("class","all"),w=1,l=lt.zoomIdentity.translate(0,0).scale(1),j=lt.zoom(),t=document.getElementById("chart").viewBox.baseVal.width,o=document.getElementById("chart").viewBox.baseVal.height,f=document.getElementById("chart").viewBox.baseVal.x,d=document.getElementById("chart").viewBox.baseVal.y,p=ut()?10:5;function R(){var t=this.getBBox().width+4,e=this.getBBox().height,n=this.getBBox().x-2,r=this.getBBox().y;lt.select(this.parentNode).insert("rect","text").attr("x",n).attr("y",r).attr("width",t).attr("height",e).attr("class","backForLabel")}function H(){for(var t,e=lt.select(this),n=e.text().split(/\s+/).slice(0,3).reverse(),r=[],o=e.text(null).attr("y",-n.length/2+"em");t=n.pop();)r.push(t),o.text(r.join(" ")),50<o.node().getComputedTextLength()&&(r.pop(),o.text(r.join(" ")),r=[t],o=e.append("tspan").attr("x",0).attr("dy","1em").text(t))}j.scaleExtent([1,p]).translateExtent([[f,d],[t,o]]).extent([[f,d],[t,o]]).on("zoom",function(){ht.default.zoom_actions(G,w,x)}).on("end",function(){w=lt.event.transform.k,ht.default.zoomEndFunction(b,v,j,it)}),lt.select("#zoom-in").on("click",function(){lt.event.preventDefault(),j.scaleBy(x.transition().duration(400),1.3)}),lt.select("#zoom-out").on("click",function(){lt.event.preventDefault(),j.scaleBy(x.transition().duration(400),1/1.3)}),lt.select("#zoom-home").on("click",function(){lt.event.preventDefault(),ht.default.zoom_reset(b,x,j,l)}),x.call(j).on("wheel.zoom",null),window.onresize=function(t){ct(t)},M(),h("select_committees","Комитет","committees"),h("select_position_gd","Должность в ГД","positions",_t.POSITIONS),h("select_region","Регион","region");var p=document.getElementById("convocations"),f=document.getElementById("age"),V=(m=ft.default.create(p,{start:[it?0:1,O()],step:1,connect:!0,range:{min:it?0:1,max:O()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("slider-snap-value-lower"),document.getElementById("slider-snap-value-upper")]),W=(g=ft.default.create(f,{start:[S(),A()],step:1,connect:!0,range:{min:S(),max:A()},format:{from:function(t){return parseInt(t)},to:function(t){return parseInt(t)}}}),[document.getElementById("age-slider-snap-value-lower"),document.getElementById("age-slider-snap-value-upper")]),y=(m.on("update",function(t,e){V[e].innerHTML=t[e]}),g.on("update",function(t,e){W[e].innerHTML=t[e]}),g.on("change",function(){E()}),m.on("change",function(){E()}),document.getElementById("search"));function h(t,e,n,r){var o=et.reduce(function(e,t){t=t[n];return(Array.isArray(t)?t:[t]).forEach(function(t){e.push({key:r?r[t]:t})}),e},[]),o=lt.nest().key(function(t){return t.key}).entries(o).flatMap(function(t){return t.key}).sort(lt.ascending),t=lt.select("#controls").select("select#"+t).on("change",E);t.append("option").text(e).attr("value",-1),t.selectAll("option.opt").data(o).enter().append("option").attr("value",function(t){return t}).text(function(t){return"committees"==n?t&&t.replace("Комитет ГД п","П"):t})}function O(){return it?Math.max.apply(Math,xt(et.map(function(t){return+t.total_years}))):Math.max.apply(Math,xt(et.map(function(t){return+t.convocations})))}function S(){return Math.min.apply(Math,xt(et.map(function(t){return+t.age})))}function A(){return Math.max.apply(Math,xt(et.map(function(t){return+t.age})))}function k(t){return document.querySelector(t).viewBox.baseVal}function E(t){(0,st.default)(".hero-body").removeClass("is-loading");var e,n,r,o,a,i,c,u,s,l=lt.select("input#search").property("value"),f=lt.select("select#select_lobby").property("value"),d=(it&&(e=lt.select("select#select_region").property("value")),-1!=f&&""!=f&&!function(e){if(e){var t=lt.select("#enclose"+e);if(!t.node()){var n=U.find(function(t){return t.cluster==e||t.clusterMin==e}),r=nt.find(function(t){return t.id==n.clusterParent});if(!r)return;if(t=lt.select("#enclose"+r.id),x.attr("data-current_enclose")==r.id)return;x.attr("data-current_enclose",r.id)}e=t,J=ut()?document.documentElement.clientHeight-80:k("svg#chart").height,X=k("svg#chart").width;var r=e.node().getBBox(),t=[[r.x+void 0,r.y+void 0],[r.x+void 0+r.width,r.y+void 0+r.height]],r=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=(t[0][0]+t[1][0])/2,t=(t[0][1]+t[1][1])/2,r=Math.max(1,Math.min(5,.9/Math.max(r/X,o/J))),o=[X/2-r*a-30,J/2-r*t+30],a=lt.zoomIdentity.translate(o[0],o[1]).scale(r);x.transition().duration(450).call(j.transform,a)}}(f),lt.select("select#select_committees").property("value")),p=m.get(),y=g.get(),h=(null!=lt.selectAll("#fraction .is-active").node()&&1==lt.selectAll("#fraction .is-active").size()&&(n=lt.select("#fraction .is-active").property("value")),null!=lt.selectAll("#method .is-active").node()&&(r=lt.select("#method .is-active").property("value")),null!=lt.selectAll("#gender .is-active").node()&&(o=lt.select("#gender .is-active").property("value")),it&&null!=lt.selectAll("#power .is-active").node()&&(a=lt.select("#power .is-active").property("value")),_.filter(function(t){return(""==l||t.name.toLowerCase().includes(l.toLowerCase())||t.clusterName.toLowerCase().includes(l.toLowerCase()))&&(-1==f||!f||t.cluster==f||t.cloneClusters.includes(+f)||t.clusterParent==f||t.clusterMin==f||t.clusterParentMiddle==f)&&(!it||!e||-1==e||t.region==e)&&(-1==d||t.committees.includes(d))&&(!!it||+t.convocations>=+p[0]&&+t.convocations<=+p[1])&&(!it||+t.total_years>=+p[0]&&+t.total_years<=+p[1])&&+t.age>=+y[0]&&+t.age<=+y[1]&&(!n||n==t.fraction||n==t.fraction_sf)&&(!r||t.election_method==r)&&(!o||t.gender==o)&&(!a||t.goverment_body==a)}));h.size()!=_.size()?t||lt.select("#clear").classed("is-hidden",!1):lt.select("#clear").classed("is-hidden",!0),i=h,c=_.size(),u=c,s=lt.transition().duration(10).ease(lt.easeLinear),_.classed(function(t){return t.color},!0).transition().style("opacity",.2).on("end",function(){var e,t,n;0===--u&&0<--c&&(i.transition(s).style("opacity",1),b.transition().style("opacity",0),e=i.data().map(function(t){return t.cluster}),t=v.filter(function(t){return e.includes(t.cluster)}),n=(0,yt.default)(t,w,it).map(function(t){return t.cluster}),b.filter(function(t){return n.includes(t.cluster)}).transition().style("opacity",1))})}function P(){lt.select("#clear").classed("is-hidden",!0),x.attr("data-current_enclose",null),m.reset(),g.reset(),lt.selectAll("#search").property("value",""),lt.selectAll("#controls button").classed("is-active",!1),lt.selectAll("#controls #fraction button").classed("is-active",!0),lt.selectAll("select").property("selectedIndex",0),_.classed(function(t){return t.color},!0).transition().style("opacity",1);var e=(0,yt.default)(v,w,it).map(function(t){return t.cluster});b.style("opacity",0).filter(function(t){return e.includes(t.cluster)}).transition().style("opacity",1),ht.default.zoom_reset(b,x,j,l)}function M(){rt.forEach(function(e){var t,n=tt.select("path.enclose#enclose"+e.id),r=N.filter(function(t){return t.clusterParent==e.id}),r=lt.packEnclose(r);r&&(t=lt.arc().innerRadius(Math.max(50,r.r)).outerRadius(Math.max(50,r.r)).startAngle(3.14/180*-180).endAngle(3.14/180*180),n.transition().duration(100).attr("transform","translate(".concat(r.x,",").concat(r.y,")")).attr("d",t()))}),_.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),b.attr("transform",function(t){return"translate(".concat(t.x," ").concat(t.y,")")}),n&&r.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y})}function L(r){u=!0,s=r.id,T(),D(r),C(r.id),e=r.id,I(),_.filter(function(t){return t.id==e}).classed("activeCircle",!0),(0,st.default)("#clusters").addClass("is-loading");var e,n,o=(0,bt.getRating)(r.person,at,it),a=(t=r.groups,n="",t.forEach(function(e,t){0<t&&(n+=", "),n+=nt.find(function(t){return t.id==e}).name}),n),t="https://declarator.org/api/lobbist/".concat(r.lobbist,"/"),i="https://declarator.org/api/v1/search/sections/?person=".concat(r.person),c="https://declarator.org/api/persons/".concat(r.person,"/success_rate");Promise.all([lt.json(t),lt.json(i),lt.json(c)]).then(function(t){var t=wt(t,3),e=t[0],n=t[1],t=t[2];(0,st.default)("#clusters").removeClass("is-loading"),new pt.default({depInfo:e,depRating:o,depLobbys:a,depSuccessRate:t,lobby:nt,declarations:n,depLobbistSmallData:r})})}function C(e){_.filter(function(t){return t.id===e}).attr("stroke","#000").attr("stroke-width","2px")}function T(){_.attr("stroke","none")}function I(){_.classed("activeCircle",!1)}function D(e){var t=U.filter(function(t){return t.id==e.id}).map(function(t){return{source:e.uniq,target:t.uniq,value:1}});n=t.map(function(t){return Object.create(t)}),tt.select("g.links").remove(),r=tt.insert("g",":first-child").classed("links",!0).attr("stroke","#999").selectAll("line").data(n).enter().append("line").attr("stroke-width",function(t){return Math.sqrt(t.value)}),i.force("link",lt.forceLink(n).id(function(t){return t.uniq}).strength(0)),M()}new dt.default(y,{list:ot.map(function(t){return t.fullname})}),y.addEventListener("awesomplete-highlight",function(t){y.value=t.text.value,E()}),y.addEventListener("awesomplete-selectcomplete",function(){E()}),lt.selectAll("#presets-first a").nodes().forEach(function(t){var e=t.getAttribute("data-lobby"),n=t.getAttribute("data-age_min"),r=t.getAttribute("data-age_max"),o=t.getAttribute("data-conv_min"),a=t.getAttribute("data-conv_max"),i=t.getAttribute("data-method"),c=t.getAttribute("data-comittee"),u=t.getAttribute("data-gender"),s=t.getAttribute("data-fio"),l=t.getAttribute("data-fraction"),f=t.getAttribute("data-power");t.addEventListener("click",function(t){t.preventDefault(),P(),n&&r&&g.set([n,r]),o&&a&&m.set([o,a]),i&&lt.select('#method button[value="'.concat(i,'"]')).classed("is-active",!0),l&&lt.selectAll("#fraction button").classed("is-active",!1),lt.select('#fraction button[value="'.concat(l,'"]')).classed("is-active",!0),c&&lt.select("select#select_committees").property("value",c),u&&lt.select('#gender button[value="'.concat(u,'"]')).classed("is-active",!0),s&&lt.select("input#search").property("value",s),e&&lt.select("select#select_lobby").property("value",+e),f&&lt.select('#power button[value="'.concat(f,'"]')).classed("is-active",!0),E()})}),nt.forEach(function(t){null==t.parent&&(t.parent=1)}),nt.push({id:1,name:"root",parent:"0"}),d=vt.default.list_to_tree(nt.sort(function(t,e){return t.order-e.order})),t=[],vt.default.tree_to_collection(d[0],"children",{},t),d=lt.select("#controls").select("select#select_lobby").on("change",E),lt.selectAll(".buttons button").on("click",function(){var t=lt.select(this.parentNode).selectAll("button");lt.select(this).classed("is-active")?"fraction"!=lt.select(this.parentNode).attr("id")?lt.select(this).classed("is-active",!1):(1<lt.select(this.parentNode).selectAll("button.is-active").size()?t.classed("is-active",!1):t.classed("is-active",!0),lt.select(this).classed("is-active",!0)):(t.classed("is-active",!1),lt.select(this).classed("is-active",!0)),E()}),d.append("option").text("Группа интересов").attr("value",-1),d.selectAll("option.opt").data(t).enter().append("option").classed("opt",!0).attr("value",function(t){return t.id}).text(function(t){var e,n=+t.level;return 0==n&&(e=" "),1==n&&(e="    "),2==n&&(e="        "),0==n?e+t.name.toUpperCase():e+t.name}).each(function(t){0==t.level&&((t=document.createElement("option")).disabled=!0,this.nextSibling)&&this.parentNode&&this.parentNode.insertBefore(t,this)}).each(function(e){0==U.filter(function(t){return t.cluster==e.id||t.clusterParent==e.id||t.clusterParentMiddle==e.id||t.clusterMin==e.id}).length&&(lt.select(this).property("disabled",!0),lt.select(this).remove())}),E("init"),lt.select("#search").on("keyup",E),lt.select("#clear").on("click",P);var K=window.location.hash;K&&(o=U.find(function(t){return t.person==K.replace("#id","")}))&&(u=!0,L(o),_.classed(function(t){return t.color},!0).transition().style("opacity",1)),window.addEventListener("closeCard",function(){tt.select("g.links").remove(),T(),I(),u=!1})},ut=function(){return document.documentElement.clientWidth<=450},ct=function(){var t=document.getElementsByTagName("header")[0].clientHeight,e=document.getElementById("controls").clientHeight,t=t+document.getElementsByClassName("footer")[0].clientHeight+e-document.getElementsByClassName("extra")[0].clientHeight,e=(document.body.className+=" chart",document.body.className="chart",document.documentElement.clientWidth),t=document.documentElement.clientHeight-t;X=!ut()&&90!=window.orientation&&e<=812?812:e,J=t-5,lt.select("#clusters svg#chart").attr("height",J).attr("width",X),lt.select("#clusters svg#chart").attr("viewBox","-100 0 1200 600").attr("preserveAspectRatio","xMidYMid meet").attr("class","desktop"),Q=800,Z=600},o=function(){tt=lt.select("#clusters").append("svg").attr("id","chart").append("g"),ct();var t=e.length,s=($=new Array(t),0);(U=et.reduce(function(t,e){var n,r,o=nt.find(function(t){return t.id===e.group});if(!o)return t;0==o.level&&(n=o.id),1==o.level&&(n=nt.find(function(t){return t.id==o.parent}).id),2==o.level&&(n=nt.find(function(t){return t.id==nt.find(function(t){return t.id==o.parent}).parent}).id,r=nt.find(function(t){return t.id==o.parent}).id,u=nt.find(function(t){return t.id==o.parent}).name);var a=+e.group,i=r||a,c=e.rating,u=(e=p(p({},e),{},{cluster:r||a,clusterMin:a,clusterName:r?u:o.name,clusterLevel:o.level,clusterParent:n,clusterParentMiddle:r||null,color:null==(a=gt.FRACTIONS[e.fraction])?void 0:a.color,uniq:s++,r:e.rating,x:+X/2+Math.random(),y:+J/2+Math.random()}),$[i]?$[i].count+1:1);return(!$[i]||c>$[i].r)&&($[i]=e),$[i].count=u,t.concat(e)},[])).sort(function(t,e){return e.count-t.count}),U.sort(function(t,e){return t.clusterParent-e.clusterParent}),U.forEach(function(e){e.cloneClusters="null";var n=U.filter(function(t){return t.id==e.id&&t.cluster==e.cluster}),t=(1<n.length&&n.forEach(function(t,e){0<e&&(t.clone="yes"),t.cloneClusters=n.map(function(t){return t.clusterMin})}),U.filter(function(t){return t.id==e.id}));1<t.length&&t.forEach(function(t,e){t.dupelganger=0<e?1:0}),e.hasClones=1<t.length?1:0}),U=(i=U).filter(function(t){return"yes"!=t.clone})},r=function(){var t=600/(c.width/c.height),e=lt.select("#root").append("svg"),a=(e.attr("viewBox",[0,0,600,20+t]),e.append("g")),t=i.slice().sort(function(t,e){return t.dupelganger-e.dupelganger}).sort(function(t,e){return t.id-e.id});function n(e){0;function t(t){return 1===e?1===t.group?"tellingCircle":"tellingCircleGray":2===e?11593===t.group?"tellingCircle":"tellingBluredCircle":3===e?11551===t.group||11739===t.group?"tellingCircle":"tellingBluredCircle":4!==e?"tellingCircle":10528===t.id?"tellingCircleAlt":10724===t.id?"tellingCircle":"tellingBluredCircle"}var n=d.default.updater(e),r=n.deps,n=n.labels,o=lt.transition().duration(300).ease(lt.easeLinear),r=a.selectAll("circle").data(r,function(t){return t.unq}),r=(r.enter().append("circle").attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}).attr("class",t).attr("r",3).attr("name",function(t){return"".concat(t.name," ").concat(t.unq)}),r.exit().transition(o).attr("r",0),r.exit().transition().delay(1e3).remove(),r.transition(o).attr("r",3).attr("class",t).attr("name",function(t){return"".concat(t.name," ").concat(t.unq)}).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}),a.selectAll("text").data(n,function(t){return t.text}));r.enter().append("text").text(function(t){return t.text}).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("class","tellingLabel").attr("fill","black"),r.exit().remove(),r.transition(o).attr("x",function(t){return t.x}).attr("y",function(t){return t.y})}lt.nest().key(function(t){return t.cluster}).rollup(function(t){return{count:t.length,name:t[0]&&t[0].clusterName}}).entries(t).slice().sort(function(t,e){return e.value.count-t.value.count}).slice(1,10).forEach(function(t,e){return t.order=e}),d.default.setDeps(t),n(u?4:0);e=document.getElementsByClassName("section");var r=Array.prototype.map.call(e,function(t,e){if("DIV"===t.nodeName)return{i:e,offsetTop:t.offsetTop,offsetHeight:t.offsetHeight}}).reverse(),o=document.getElementById("scrollytelling"),t=(o.addEventListener("scroll",function(){var t=r.find(function(t){return t.offsetTop-o.getBoundingClientRect().height+100<o.scrollTop});if(t){var e=t.i;if(t&&null!=e)switch(e){case 0:0;case 1:case 2:case 3:d.default.setDonutRadius(0),n(e);break;case 4:d.default.setHalf(0),n(e)}}}),u&&s(),document.getElementById("close_cross")),e=document.getElementById("go_to_lobby_map");t.addEventListener("click",function(t){s()}),e.addEventListener("click",function(t){s()})},s=function(){var t=document.getElementById("scrollytelling");t.style.opacity=0,document.documentElement.style.overflowY="auto",setTimeout(function(){t.style.display="none"},200)},Y=(0,l.default)("gates_tooltip",240),u=window.location.hash?window.location.hash.substring(1):null,t.next=10,f.default;case 10:n=t.sent,et=n.data,nt=n.lobby,rt=n.lobby_level_0,e=n.myArrGroups,ot=n.rawDep,at=n.rawRating,it=n.isSF,o(),it&&!u&&((n=document.getElementById("scrollytelling")).style.display="block",c=n.getBoundingClientRect(),r()),a();case 22:case"end":return t.stop()}},t)}),(s=function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function o(t){u(r,e,n,o,a,"next",t)}function a(t){u(r,e,n,o,a,"throw",t)}o(void 0)})}).apply(this,arguments)}},{"../constants/fractions":1,"../constants/positions":2,"../lib/rating":5,"../tools/pluralize":17,"../tools/showed_clusters":18,"../tools/storyTelling":19,"../tools/tree":20,"../tools/zoom":21,"../vendor/tooltip":22,"./card":9,"./data":11,awesomplete:"awesomplete",d3:"d3",jquery:"jquery",nouislider:"nouislider"}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==u(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),o=t("./layout_vars"),a=t("../lib/fractions"),i=t("../lib/rating");function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function l(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?s(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],(t=function(t){t=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):s(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}var f,d,p,y=[],h=[],v=[],m=new Set,g=[],_="sf"===(0,o.getLayoutVars)().type,t="https://declarator.org/media/dumps/",t={duma_7:[t+"lobbist-small-d7.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],duma_8:[t+"lobbist-small-d8.json",t+"lobby-group.json","/assets/data/rating.json","/assets/data/alias.json"],sf:[t+"lobbist-small-sf.json",t+"lobby-group.json","/assets/data/rating-sf.json","/assets/data/alias.json"]}[(0,o.getLayoutVars)().type],b=[],o=(t.forEach(function(t){b.push(r.json(t))}),Promise.all(b).then(function(t){f=_?t[0]:t[0].filter(function(t){return t.convocations&&0<t.convocations.length});var r,e=t[1];return d=t[2],p=t[3],y=f.flatMap(function(n){var r=n.groups,o=(0==r.length&&(r=[11851]),(0,i.getRating)(n.person,d,_));return r.map(function(t){return m.add(t),l(l({},n),{},{name:n.fullname,fraction:(0,a.getFraction)(n).slug,age:(e=new Date(n.birth_date),e=Date.now()-e.getTime(),e=new Date(e),Math.abs(e.getUTCFullYear()-1970)),group:t,groups:r,rating:o.log,election_method:n.election_method,committees:_?"0"!==(e=n.committee)&&null!=e&&""!==e?[e]:["Вне комитетов"]:n.committees,convocations:0!=n.convocations.length?n.convocations.length:1,region:n.region?n.region.name:null,goverment_body:n.goverment_body,total_years:n.total_years});var e})}),m.forEach(function(t,e){g.push({id:e,val:t})}),p=p.map(function(t){return""==t.alias&&(t.alias="null"),{id:t.id,name:t.name,alias:t.alias}}),r=p,h=e.map(function(e,t){var n=r.find(function(t){return t.name==e.name}),n=n&&"null"!=n.alias?n.alias:e.name;return{index:t,id:e.id,name:e.name,parent:e.parent,order:e.order,level:e.level,tree_id:e.tree_id,alias:n}}),v=h.filter(function(t){return 0==t.level}),{lobby:h,lobby_level_0:v,data:y,rawRating:d,rawDep:f,myArrGroups:g,isSF:_}}));n.default=o},{"../lib/fractions":4,"../lib/rating":5,"./layout_vars":14,d3:"d3"}],12:[function(t,e,n){"use strict";t=(t=t("jquery"))&&t.__esModule?t:{default:t};var r=(0,t.default)("#header-selector"),o="selector-control_open";r.on("click",function(){r.toggleClass(o)}),(0,t.default)(document).on("click",function(t){var e=r.hasClass(o),t=!r.is(t.target)&&0===r.has(t.target).length;e&&t&&r.toggleClass(o)})},{jquery:"jquery"}],13:[function(t,e,n){"use strict";var r=i(t("jquery")),o=i(t("./chart")),a=t("./layout_vars");function i(t){return t&&t.__esModule?t:{default:t}}(0,r.default)(document).ready(function(){"default"===(0,a.getLayoutVars)().layout&&((0,r.default)(".hero-body").addClass("is-loading"),(0,o.default)())})},{"./chart":10,"./layout_vars":14,jquery:"jquery"}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getLayoutVars=void 0;n.getLayoutVars=function(){return window.LAYOUT_VARS}},{}],15:[function(t,e,n){"use strict";var r=(t=t("jquery"))&&t.__esModule?t:{default:t};function o(){(0,r.default)("#modal-legend").hide()}(0,r.default)("body").on("click","#button-show-legend",function(){var t=(0,r.default)("#modal-legend");t.css("display","flex"),t.focus()}),(0,r.default)("body").on("click",".legend__modal-close",o),(0,r.default)("body").on("blur","#modal-legend",o)},{jquery:"jquery"}],16:[function(t,e,n){"use strict";(0,((t=t("jquery"))&&t.__esModule?t:{default:t}).default)(document).ready(function(){document.getElementById("nav-toggle").addEventListener("click",function(){var t=document.getElementById("nav-toggle"),e=document.getElementById("header_menu");""==t.className?(t.className="is-active is-visible",e.className="header-menu  is-visible"):(t.className="",e.className="header-menu")})})},{jquery:"jquery"}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n,r){t=Math.abs(t);if(!(5<=(t%=100)&&t<=20)){if(1==(t%=10))return e;if(2<=t&&t<=4)return n}return r}},{}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e,n){var r,o=e,a=[];o<=1&&(r=5);1<o&&(r=8);1.3<o&&(r=10);2.1<o&&(r=20);3.7<o&&(r=30);return[11550,11593,11679,11727,11739,null].forEach(function(e){11727===e&&n&&o<=1.6&&(r=1),a=a.concat(t.filter(function(t){return t.clusterParent==e}).sort(function(t,e){return e.count-t.count}).slice(0,r).map(function(t){return t.cluster}))}),t.filter(function(t){return a.includes(t.cluster)})}},{}],19:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;t=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=c(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3"));function c(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(c=function(t){return t?n:e})(t))}var o=46.5,s=[];function a(t,e){var n;for(e.dist=function(t){var e=t.x,n=t.y,e=(e+=n/2)*e+(n*=Math.sqrt(3)/2)*n+.001*Math.atan2(t.x,t.y);return e=this.half&&(e-=Math.pow(o,2),e=Math.abs(e),.5<n)?1/0:e}.call(this,e),n=0;n<t.length;n++)if(e.dist<t[n].dist){t.splice(n,0,e);break}n==t.length&&t.push(e)}function u(t,e,n){var r=this;this.half=n,this.dist=t,this.center=e,this.data=[],this.stack=[{x:0,y:0,dist:0}],this.half&&(this.stack[0].x=-o-1),this.getPoint=function(t){for(;r.data.length<=t&&0<r.stack.length;){var e=r.stack.shift();[{x:e.x-5,y:+e.y},{x:e.x+5,y:+e.y},{x:+e.x,y:e.y-5},{x:+e.x,y:e.y+5}].filter(function(e){var n=!1;return r.data.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),r.stack.forEach(function(t){t.x==e.x&&t.y==e.y&&(n=!0)}),!n}).forEach(function(t){a.call(r,r.stack,t)}),e.transformed=r.transform(e),r.data.push(e)}return r.data[t].transformed},this.transform=function(t){var e=t.x,t=t.y;return e+=t/2,t*=Math.sqrt(3)/2,e*=r.dist,t*=r.dist,{x:e+=r.center.x,y:t+=r.center.y}}}var r,l=[],f=(l[0]=[1],l[1]=[1,11851],l[2]=[11593,11551,11739,11701,11696,11697,11710,11720,11562,11717,11683,11698,11589,11713],l[3]=[11593,11551,11739,11720,11701,11696,11697,11710,11562,11683,11698],l[4]=[11551,11724,11573,11703,11552,11646,11559,11758,11696,11693],{11593:"Регионы",11551:"Силовики",11739:"Крупный бизнес и госкорпорации",11701:"Строительство, девелопмент",11696:"Сельское хозяйство",11697:"Лесное, рыбное хозяйство",11710:"Здравоохранение",11720:"Госуправление",11562:"ФОИВы",11717:"Финансы, банки",11683:"Топливная промышленность",11698:"Транспорт и связь",11589:"Банк России",11713:"Образование и наука",11724:"Адвокаты",11573:"Роскомнадзор",11703:"Телекоммуникации, IT",11552:"ФСБ",11699:"транспорт",11760:"ОАО РЖД",11758:"ГК Ростех",11809:"ГК Росатом",11783:"АО ОСК",11646:"Крым",11559:"МЧС",11693:"Алкоголь",1:"",11851:""}),d=[],p=[],y=0,h={0:1,1:2,2:4,3:4,4:4,5:4};null!==t.select("#scrollytelling").node()&&((r=document.getElementById("scrollytelling")).style.display="block",t=t.select("#scrollytelling").node().getBoundingClientRect(),r.style.display="none",y=600/(t.width/t.height),l.forEach(function(t,o){t.forEach(function(t,e){var n=+h[o],r=y-20*n,e=0===o?{x:300,y:y/2}:{x:e%n*600/n+600/n/2,y:10+((e-e%n)/n*(r/n+30)+r/n/2+10)};d[o]=d[o]||[],d[o][t]=new u(1.5,e,0===o?1:0),p[o]=p[o]||[],p[o][t]=e})}));n.default={updater:function(c){var u=[],n=[];return l[c].forEach(function(o){for(var a=s.filter(function(t){return t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o}),t=(0===c&&(a=s),1===c&&1===o&&(a=s.filter(function(t){return 11851!==t.clusterMin})),f[o]),e=(0!==a.length&&n.push({x:p[c][o].x,y:p[c][o].y-y/h[c]/2,text:t||""}),0),i=-1;e<a.length;e++)!function(t,e){var n=a[t],r=(n.dupelganger?(t=s.find(function(t){return t.id===n.id&&0===t.dupelganger}),(t=(r=a.find(function(t){return t.id===n.id&&t.uniq!==n.uniq&&n.uniq>t.uniq}))?r:t)&&(t.clusterMin===o||t.clusterParentMiddle===o||t.clusterParent===o)||(e++,0!==c&&1!==c)||e--):e++,d[c][o].getPoint(e));u.push({x:r.x,y:r.y,color:"purple",id:n.id,name:n.name,unq:n.uniq,group:o}),i=e}(e,i)}),{deps:u,labels:n}},setDeps:function(t){s=t},setGroups:function(t){0},setHalf:function(t){0},setDonutRadius:function(t){o=t}}},{d3:"d3"}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0,n.default={list_to_tree:function(t){for(var e,n={},r=[],o=0;o<t.length;o+=1)t[n[t[o].id]=o].children=[];for(o=0;o<t.length;o+=1)("0"!==(e=t[o]).parent?t[n[e.parent]].children:r).push(e);return r},tree_to_collection:function t(e,n,r,o){if(e[n]&&0!==e[n].length)for(var a=0;a<e[n].length;a++){var i=e[n][a];r[i.id]=i,o.push(i),t(i,n,r,o)}},findAncestors:function(e,t){for(var n=[e],r=t.find(function(t){return t.id===e}),o=r&&r.parent;1!==o&&null!=o;)n.unshift(o),o=t.find(function(t){return t.id==o}).parent;return n}}},{}],21:[function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==i(t)&&"function"!=typeof t)return{default:t};e=s(e);if(e&&e.has(t))return e.get(t);var n,r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var a;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((a=o?Object.getOwnPropertyDescriptor(t,n):null)&&(a.get||a.set)?Object.defineProperty(r,n,a):r[n]=t[n])}r.default=t,e&&e.set(t,r);return r}(t("d3")),u=(t=t("./showed_clusters"))&&t.__esModule?t:{default:t};function s(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(s=function(t){return t?n:e})(t))}n.default={zoomEndFunction:function(t,e,n,r){var o=c.event.transform.k,a=(0,u.default)(e,o,r).map(function(t){return t.cluster}),e=t.filter(function(t){return a.includes(t.cluster)});1<o?(c.selectAll(".maxi").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("mini",!0),e.transition().style("opacity",1),1.3<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".maxi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("midi",!0),e.transition().style("opacity",1)),2.1<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".super").style("opacity",0),t.attr("class","lobby_label"),e.classed("maxi",!0),e.transition().style("opacity",1)),3.7<o&&(c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".maxi").style("opacity",0),t.attr("class","lobby_label"),e.classed("super",!0),e.transition().style("opacity",1))):(c.select("svg#chart").on("zoom",null),c.selectAll(".mini").style("opacity",0),c.selectAll(".midi").style("opacity",0),c.selectAll(".maxi").style("opacity",0),c.selectAll(".super").style("opacity",0),e.transition().style("opacity",1),t.attr("class","lobby_label"))},zoom_actions:function(t,e,n){n.attr("data-current_enclose",null),t.attr("transform",c.event.transform)},zoom_reset:function(t,e,n,r){c.select("svg#chart.desktop").attr("viewBox","-100 0 1200 600"),e.attr("data-current_enclose",null),t.transition().style("opacity",0),e.transition().duration(750).call(n.transform,r)}}},{"./showed_clusters":18,d3:"d3"}],22:[function(t,e,n){"use strict";function c(t){throw new TypeError('"'+t+'" is read-only')}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(t,e){var i=d3.select("body").append("div").attr("class","tooltip").attr("id",t).style("pointer-events","none");e&&i.style("width",e);function n(){i.style("opacity",0)}function r(t){var e=i.style("width"),n=i.style("height"),r=window.scrollY,o=window.scrollX,a=document.all?t.clientX+o:t.pageX,t=document.all?t.clientY+r:t.pageY,e=a-o+20+e>window.innerWidth?a-e-20:a+10,a=(e<o+10&&c("ttleft"),t-r+20+n>window.innerHeight?t-n-20:t+10);a<r+10&&c("tttop"),i.style("top",a+"px").style("left",e+"px")}return n(),{showTooltip:function(t,e){i.style("opacity",1).html(t),r(e)},hideTooltip:n,updatePosition:r}}},{}],23:[function(t,e,n){t=t("./_getNative")(t("./_root"),"DataView");e.exports=t},{"./_getNative":73,"./_root":108}],24:[function(t,e,n){var r=t("./_hashClear"),o=t("./_hashDelete"),a=t("./_hashGet"),i=t("./_hashHas"),t=t("./_hashSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_hashClear":79,"./_hashDelete":80,"./_hashGet":81,"./_hashHas":82,"./_hashSet":83}],25:[function(t,e,n){var r=t("./_listCacheClear"),o=t("./_listCacheDelete"),a=t("./_listCacheGet"),i=t("./_listCacheHas"),t=t("./_listCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_listCacheClear":90,"./_listCacheDelete":91,"./_listCacheGet":92,"./_listCacheHas":93,"./_listCacheSet":94}],26:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Map");e.exports=t},{"./_getNative":73,"./_root":108}],27:[function(t,e,n){var r=t("./_mapCacheClear"),o=t("./_mapCacheDelete"),a=t("./_mapCacheGet"),i=t("./_mapCacheHas"),t=t("./_mapCacheSet");function c(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=i,c.prototype.set=t,e.exports=c},{"./_mapCacheClear":95,"./_mapCacheDelete":96,"./_mapCacheGet":97,"./_mapCacheHas":98,"./_mapCacheSet":99}],28:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Promise");e.exports=t},{"./_getNative":73,"./_root":108}],29:[function(t,e,n){t=t("./_getNative")(t("./_root"),"Set");e.exports=t},{"./_getNative":73,"./_root":108}],30:[function(t,e,n){var r=t("./_MapCache"),o=t("./_setCacheAdd"),t=t("./_setCacheHas");function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=t,e.exports=a},{"./_MapCache":27,"./_setCacheAdd":109,"./_setCacheHas":110}],31:[function(t,e,n){var r=t("./_ListCache"),o=t("./_stackClear"),a=t("./_stackDelete"),i=t("./_stackGet"),c=t("./_stackHas"),t=t("./_stackSet");function u(t){t=this.__data__=new r(t);this.size=t.size}u.prototype.clear=o,u.prototype.delete=a,u.prototype.get=i,u.prototype.has=c,u.prototype.set=t,e.exports=u},{"./_ListCache":25,"./_stackClear":112,"./_stackDelete":113,"./_stackGet":114,"./_stackHas":115,"./_stackSet":116}],32:[function(t,e,n){t=t("./_root").Symbol;e.exports=t},{"./_root":108}],33:[function(t,e,n){t=t("./_root").Uint8Array;e.exports=t},{"./_root":108}],34:[function(t,e,n){t=t("./_getNative")(t("./_root"),"WeakMap");e.exports=t},{"./_getNative":73,"./_root":108}],35:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,a=[];++n<r;){var i=t[n];e(i,n,t)&&(a[o++]=i)}return a}},{}],36:[function(t,e,n){var l=t("./_baseTimes"),f=t("./isArguments"),d=t("./isArray"),p=t("./isBuffer"),y=t("./_isIndex"),h=t("./isTypedArray"),v=Object.prototype.hasOwnProperty;e.exports=function(t,e){var n,r=d(t),o=!r&&f(t),a=!r&&!o&&p(t),i=!r&&!o&&!a&&h(t),c=r||o||a||i,u=c?l(t.length,String):[],s=u.length;for(n in t)!e&&!v.call(t,n)||c&&("length"==n||a&&("offset"==n||"parent"==n)||i&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||y(n,s))||u.push(n);return u}},{"./_baseTimes":58,"./_isIndex":84,"./isArguments":127,"./isArray":128,"./isBuffer":130,"./isTypedArray":136}],37:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},{}],38:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},{}],39:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},{}],40:[function(t,e,n){var r=t("./eq");e.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},{"./eq":121}],41:[function(t,e,n){e.exports=function(t,e,n,r){for(var o=t.length,a=n+(r?1:-1);r?a--:++a<o;)if(e(t[a],a,t))return a;return-1}},{}],42:[function(t,e,n){var o=t("./_castPath"),a=t("./_toKey");e.exports=function(t,e){for(var n=0,r=(e=o(e,t)).length;null!=t&&n<r;)t=t[a(e[n++])];return n&&n==r?t:void 0}},{"./_castPath":63,"./_toKey":118}],43:[function(t,e,n){var r=t("./_arrayPush"),o=t("./isArray");e.exports=function(t,e,n){return e=e(t),o(t)?e:r(e,n(t))}},{"./_arrayPush":38,"./isArray":128}],44:[function(t,e,n){var r=t("./_Symbol"),o=t("./_getRawTag"),a=t("./_objectToString"),i=r?r.toStringTag:void 0;e.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(i&&i in Object(t)?o:a)(t)}},{"./_Symbol":32,"./_getRawTag":74,"./_objectToString":106}],45:[function(t,e,n){e.exports=function(t,e){return null!=t&&e in Object(t)}},{}],46:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},{"./_baseGetTag":44,"./isObjectLike":134}],47:[function(t,e,n){var i=t("./_baseIsEqualDeep"),c=t("./isObjectLike");e.exports=function t(e,n,r,o,a){return e===n||(null==e||null==n||!c(e)&&!c(n)?e!=e&&n!=n:i(e,n,r,o,t,a))}},{"./_baseIsEqualDeep":48,"./isObjectLike":134}],48:[function(t,e,n){var f=t("./_Stack"),d=t("./_equalArrays"),p=t("./_equalByTag"),y=t("./_equalObjects"),h=t("./_getTag"),v=t("./isArray"),m=t("./isBuffer"),g=t("./isTypedArray"),_="[object Arguments]",b="[object Array]",x="[object Object]",w=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=v(t),c=v(e),u=i?b:h(t),c=c?b:h(e),s=(u=u==_?x:u)==x,l=(c=c==_?x:c)==x;if((c=u==c)&&m(t)){if(!m(e))return!1;s=!(i=!0)}if(c&&!s)return a=a||new f,i||g(t)?d(t,e,n,r,o,a):p(t,e,u,n,r,o,a);if(!(1&n)){i=s&&w.call(t,"__wrapped__"),u=l&&w.call(e,"__wrapped__");if(i||u)return o(i?t.value():t,u?e.value():e,n,r,a=a||new f)}return c&&(a=a||new f,y(t,e,n,r,o,a))}},{"./_Stack":31,"./_equalArrays":66,"./_equalByTag":67,"./_equalObjects":68,"./_getTag":76,"./isArray":128,"./isBuffer":130,"./isTypedArray":136}],49:[function(t,e,n){var p=t("./_Stack"),y=t("./_baseIsEqual");e.exports=function(t,e,n,r){var o=n.length,a=o,i=!r;if(null==t)return!a;for(t=Object(t);o--;){var c=n[o];if(i&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++o<a;){var u=(c=n[o])[0],s=t[u],l=c[1];if(i&&c[2]){if(void 0===s&&!(u in t))return!1}else{var f,d=new p;if(!(void 0===(f=r?r(s,l,u,t,e,d):f)?y(l,s,3,r,d):f))return!1}}return!0}},{"./_Stack":31,"./_baseIsEqual":47}],50:[function(t,e,n){var r=t("./isFunction"),o=t("./_isMasked"),a=t("./isObject"),i=t("./_toSource"),c=/^\[object .+?Constructor\]$/,t=Function.prototype,u=Object.prototype,t=t.toString,u=u.hasOwnProperty,s=RegExp("^"+t.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return!(!a(t)||o(t))&&(r(t)?s:c).test(i(t))}},{"./_isMasked":87,"./_toSource":119,"./isFunction":131,"./isObject":133}],51:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isLength"),a=t("./isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(t){return a(t)&&o(t.length)&&!!i[r(t)]}},{"./_baseGetTag":44,"./isLength":132,"./isObjectLike":134}],52:[function(t,e,n){var r=t("./_baseMatches"),o=t("./_baseMatchesProperty"),a=t("./identity"),i=t("./isArray"),c=t("./property");e.exports=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?i(t)?o(t[0],t[1]):r(t):c(t)}},{"./_baseMatches":54,"./_baseMatchesProperty":55,"./identity":126,"./isArray":128,"./property":139}],53:[function(t,e,n){var r=t("./_isPrototype"),o=t("./_nativeKeys"),a=Object.prototype.hasOwnProperty;e.exports=function(t){if(!r(t))return o(t);var e,n=[];for(e in Object(t))a.call(t,e)&&"constructor"!=e&&n.push(e);return n}},{"./_isPrototype":88,"./_nativeKeys":104}],54:[function(t,e,n){var r=t("./_baseIsMatch"),o=t("./_getMatchData"),a=t("./_matchesStrictComparable");e.exports=function(e){var n=o(e);return 1==n.length&&n[0][2]?a(n[0][0],n[0][1]):function(t){return t===e||r(t,e,n)}}},{"./_baseIsMatch":49,"./_getMatchData":72,"./_matchesStrictComparable":101}],55:[function(t,e,n){var o=t("./_baseIsEqual"),a=t("./get"),i=t("./hasIn"),c=t("./_isKey"),u=t("./_isStrictComparable"),s=t("./_matchesStrictComparable"),l=t("./_toKey");e.exports=function(n,r){return c(n)&&u(r)?s(l(n),r):function(t){var e=a(t,n);return void 0===e&&e===r?i(t,n):o(r,e,3)}}},{"./_baseIsEqual":47,"./_isKey":85,"./_isStrictComparable":89,"./_matchesStrictComparable":101,"./_toKey":118,"./get":124,"./hasIn":125}],56:[function(t,e,n){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],57:[function(t,e,n){var r=t("./_baseGet");e.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":42}],58:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},{}],59:[function(t,e,n){var r=t("./_Symbol"),o=t("./_arrayMap"),a=t("./isArray"),i=t("./isSymbol"),t=r?r.prototype:void 0,c=t?t.toString:void 0;e.exports=function t(e){var n;return"string"==typeof e?e:a(e)?o(e,t)+"":i(e)?c?c.call(e):"":"0"==(n=e+"")&&1/e==-1/0?"-0":n}},{"./_Symbol":32,"./_arrayMap":37,"./isArray":128,"./isSymbol":135}],60:[function(t,e,n){var r=t("./_trimmedEndIndex"),o=/^\s+/;e.exports=function(t){return t&&t.slice(0,r(t)+1).replace(o,"")}},{"./_trimmedEndIndex":120}],61:[function(t,e,n){e.exports=function(e){return function(t){return e(t)}}},{}],62:[function(t,e,n){e.exports=function(t,e){return t.has(e)}},{}],63:[function(t,e,n){var r=t("./isArray"),o=t("./_isKey"),a=t("./_stringToPath"),i=t("./toString");e.exports=function(t,e){return r(t)?t:o(t,e)?[t]:a(i(t))}},{"./_isKey":85,"./_stringToPath":117,"./isArray":128,"./toString":145}],64:[function(t,e,n){t=t("./_root")["__core-js_shared__"];e.exports=t},{"./_root":108}],65:[function(t,e,n){var i=t("./_baseIteratee"),c=t("./isArrayLike"),u=t("./keys");e.exports=function(a){return function(t,e,n){var r,o=Object(t),e=(c(t)||(r=i(e,3),t=u(t),e=function(t){return r(o[t],t,o)}),a(t,e,n));return-1<e?o[r?t[e]:e]:void 0}}},{"./_baseIteratee":52,"./isArrayLike":129,"./keys":137}],66:[function(t,e,n){var v=t("./_SetCache"),m=t("./_arraySome"),g=t("./_cacheHas");e.exports=function(t,e,n,r,o,a){var i=1&n,c=t.length,u=e.length;if(c!=u&&!(i&&c<u))return!1;var u=a.get(t),s=a.get(e);if(u&&s)return u==e&&s==t;var l=-1,f=!0,d=2&n?new v:void 0;for(a.set(t,e),a.set(e,t);++l<c;){var p,y=t[l],h=e[l];if(void 0!==(p=r?i?r(h,y,l,e,t,a):r(y,h,l,t,e,a):p)){if(p)continue;f=!1;break}if(d){if(!m(e,function(t,e){if(!g(d,e)&&(y===t||o(y,t,n,r,a)))return d.push(e)})){f=!1;break}}else if(y!==h&&!o(y,h,n,r,a)){f=!1;break}}return a.delete(t),a.delete(e),f}},{"./_SetCache":30,"./_arraySome":39,"./_cacheHas":62}],67:[function(t,e,n){var r=t("./_Symbol"),s=t("./_Uint8Array"),l=t("./eq"),f=t("./_equalArrays"),d=t("./_mapToArray"),p=t("./_setToArray"),t=r?r.prototype:void 0,y=t?t.valueOf:void 0;e.exports=function(t,e,n,r,o,a,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return t.byteLength==e.byteLength&&a(new s(t),new s(e))?!0:!1;case"[object Boolean]":case"[object Date]":case"[object Number]":return l(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=d;case"[object Set]":c=c||p;if(t.size!=e.size&&!(1&r))return!1;var u=i.get(t);if(u)return u==e;r|=2,i.set(t,e);u=f(c(t),c(e),r,o,a,i);return i.delete(t),u;case"[object Symbol]":if(y)return y.call(t)==y.call(e)}return!1}},{"./_Symbol":32,"./_Uint8Array":33,"./_equalArrays":66,"./_mapToArray":100,"./_setToArray":111,"./eq":121}],68:[function(t,e,n){var g=t("./_getAllKeys"),_=Object.prototype.hasOwnProperty;e.exports=function(t,e,n,r,o,a){var i=1&n,c=g(t),u=c.length;if(u!=g(e).length&&!i)return!1;for(var s=u;s--;){var l=c[s];if(!(i?l in e:_.call(e,l)))return!1}var f=a.get(t),d=a.get(e);if(f&&d)return f==e&&d==t;for(var p=!0,y=(a.set(t,e),a.set(e,t),i);++s<u;){var h,v=t[l=c[s]],m=e[l];if(!(void 0===(h=r?i?r(m,v,l,e,t,a):r(v,m,l,t,e,a):h)?v===m||o(v,m,n,r,a):h)){p=!1;break}y=y||"constructor"==l}return p&&!y&&(f=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof d&&d instanceof d)&&(p=!1),a.delete(t),a.delete(e),p}},{"./_getAllKeys":70}],69:[function(t,n,e){!function(e){!function(){var t="object"==typeof e&&e&&e.Object===Object&&e;n.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],70:[function(t,e,n){var r=t("./_baseGetAllKeys"),o=t("./_getSymbols"),a=t("./keys");e.exports=function(t){return r(t,a,o)}},{"./_baseGetAllKeys":43,"./_getSymbols":75,"./keys":137}],71:[function(t,e,n){var r=t("./_isKeyable");e.exports=function(t,e){return t=t.__data__,r(e)?t["string"==typeof e?"string":"hash"]:t.map}},{"./_isKeyable":86}],72:[function(t,e,n){var a=t("./_isStrictComparable"),i=t("./keys");e.exports=function(t){for(var e=i(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,a(o)]}return e}},{"./_isStrictComparable":89,"./keys":137}],73:[function(t,e,n){var r=t("./_baseIsNative"),o=t("./_getValue");e.exports=function(t,e){return t=o(t,e),r(t)?t:void 0}},{"./_baseIsNative":50,"./_getValue":77}],74:[function(t,e,n){var t=t("./_Symbol"),r=Object.prototype,a=r.hasOwnProperty,i=r.toString,c=t?t.toStringTag:void 0;e.exports=function(t){var e=a.call(t,c),n=t[c];try{var r=!(t[c]=void 0)}catch(t){}var o=i.call(t);return r&&(e?t[c]=n:delete t[c]),o}},{"./_Symbol":32}],75:[function(t,e,n){var r=t("./_arrayFilter"),t=t("./stubArray"),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols;e.exports=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:t},{"./_arrayFilter":35,"./stubArray":140}],76:[function(t,e,n){var r=t("./_DataView"),o=t("./_Map"),a=t("./_Promise"),i=t("./_Set"),c=t("./_WeakMap"),u=t("./_baseGetTag"),s=t("./_toSource"),l="[object Map]",f="[object Promise]",d="[object Set]",p="[object WeakMap]",y="[object DataView]",h=s(r),v=s(o),m=s(a),g=s(i),_=s(c),t=u;(r&&t(new r(new ArrayBuffer(1)))!=y||o&&t(new o)!=l||a&&t(a.resolve())!=f||i&&t(new i)!=d||c&&t(new c)!=p)&&(t=function(t){var e=u(t),t="[object Object]"==e?t.constructor:void 0,t=t?s(t):"";if(t)switch(t){case h:return y;case v:return l;case m:return f;case g:return d;case _:return p}return e}),e.exports=t},{"./_DataView":23,"./_Map":26,"./_Promise":28,"./_Set":29,"./_WeakMap":34,"./_baseGetTag":44,"./_toSource":119}],77:[function(t,e,n){e.exports=function(t,e){return null==t?void 0:t[e]}},{}],78:[function(t,e,n){var c=t("./_castPath"),u=t("./isArguments"),s=t("./isArray"),l=t("./_isIndex"),f=t("./isLength"),d=t("./_toKey");e.exports=function(t,e,n){for(var r=-1,o=(e=c(e,t)).length,a=!1;++r<o;){var i=d(e[r]);if(!(a=null!=t&&n(t,i)))break;t=t[i]}return a||++r!=o?a:!!(o=null==t?0:t.length)&&f(o)&&l(i,o)&&(s(t)||u(t))}},{"./_castPath":63,"./_isIndex":84,"./_toKey":118,"./isArguments":127,"./isArray":128,"./isLength":132}],79:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":103}],80:[function(t,e,n){e.exports=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}},{}],81:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e,n=this.__data__;return r?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:o.call(n,t)?n[t]:void 0}},{"./_nativeCreate":103}],82:[function(t,e,n){var r=t("./_nativeCreate"),o=Object.prototype.hasOwnProperty;e.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},{"./_nativeCreate":103}],83:[function(t,e,n){var r=t("./_nativeCreate");e.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},{"./_nativeCreate":103}],84:[function(t,e,n){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&-1<t&&t%1==0&&t<e}},{}],85:[function(t,e,n){var r=t("./isArray"),o=t("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;e.exports=function(t,e){var n;return!r(t)&&(!("number"!=(n=typeof t)&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||i.test(t)||!a.test(t)||null!=e&&t in Object(e))}},{"./isArray":128,"./isSymbol":135}],86:[function(t,e,n){e.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},{}],87:[function(t,e,n){var t=t("./_coreJsData"),r=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"";e.exports=function(t){return!!r&&r in t}},{"./_coreJsData":64}],88:[function(t,e,n){var r=Object.prototype;e.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},{}],89:[function(t,e,n){var r=t("./isObject");e.exports=function(t){return t==t&&!r(t)}},{"./isObject":133}],90:[function(t,e,n){e.exports=function(){this.__data__=[],this.size=0}},{}],91:[function(t,e,n){var r=t("./_assocIndexOf"),o=Array.prototype.splice;e.exports=function(t){var e=this.__data__;return!((t=r(e,t))<0||(t==e.length-1?e.pop():o.call(e,t,1),--this.size,0))}},{"./_assocIndexOf":40}],92:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){var e=this.__data__;return(t=r(e,t))<0?void 0:e[t][1]}},{"./_assocIndexOf":40}],93:[function(t,e,n){var r=t("./_assocIndexOf");e.exports=function(t){return-1<r(this.__data__,t)}},{"./_assocIndexOf":40}],94:[function(t,e,n){var o=t("./_assocIndexOf");e.exports=function(t,e){var n=this.__data__,r=o(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}},{"./_assocIndexOf":40}],95:[function(t,e,n){var r=t("./_Hash"),o=t("./_ListCache"),a=t("./_Map");e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||o),string:new r}}},{"./_Hash":24,"./_ListCache":25,"./_Map":26}],96:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return t=r(this,t).delete(t),this.size-=t?1:0,t}},{"./_getMapData":71}],97:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).get(t)}},{"./_getMapData":71}],98:[function(t,e,n){var r=t("./_getMapData");e.exports=function(t){return r(this,t).has(t)}},{"./_getMapData":71}],99:[function(t,e,n){var o=t("./_getMapData");e.exports=function(t,e){var n=o(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}},{"./_getMapData":71}],100:[function(t,e,n){e.exports=function(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}},{}],101:[function(t,e,n){e.exports=function(e,n){return function(t){return null!=t&&t[e]===n&&(void 0!==n||e in Object(t))}}},{}],102:[function(t,e,n){var r=t("./memoize");e.exports=function(t){var e=(t=r(t,function(t){return 500===e.size&&e.clear(),t})).cache;return t}},{"./memoize":138}],103:[function(t,e,n){t=t("./_getNative")(Object,"create");e.exports=t},{"./_getNative":73}],104:[function(t,e,n){t=t("./_overArg")(Object.keys,Object);e.exports=t},{"./_overArg":107}],105:[function(t,e,n){var t=t("./_freeGlobal"),n="object"==typeof n&&n&&!n.nodeType&&n,r=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=r&&r.exports===n&&t.process,n=function(){try{var t=r&&r.require&&r.require("util").types;return t?t:o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=n},{"./_freeGlobal":69}],106:[function(t,e,n){var r=Object.prototype.toString;e.exports=function(t){return r.call(t)}},{}],107:[function(t,e,n){e.exports=function(e,n){return function(t){return e(n(t))}}},{}],108:[function(t,e,n){var t=t("./_freeGlobal"),r="object"==typeof self&&self&&self.Object===Object&&self,t=t||r||Function("return this")();e.exports=t},{"./_freeGlobal":69}],109:[function(t,e,n){e.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},{}],110:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],111:[function(t,e,n){e.exports=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}},{}],112:[function(t,e,n){var r=t("./_ListCache");e.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":25}],113:[function(t,e,n){e.exports=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}},{}],114:[function(t,e,n){e.exports=function(t){return this.__data__.get(t)}},{}],115:[function(t,e,n){e.exports=function(t){return this.__data__.has(t)}},{}],116:[function(t,e,n){var o=t("./_ListCache"),a=t("./_Map"),i=t("./_MapCache");e.exports=function(t,e){var n=this.__data__;if(n instanceof o){var r=n.__data__;if(!a||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(r)}return n.set(t,e),this.size=n.size,this}},{"./_ListCache":25,"./_Map":26,"./_MapCache":27}],117:[function(t,e,n){var t=t("./_memoizeCapped"),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,t=t(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(r,function(t,e,n,r){o.push(n?r.replace(a,"$1"):e||t)}),o});e.exports=t},{"./_memoizeCapped":102}],118:[function(t,e,n){var r=t("./isSymbol");e.exports=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}},{"./isSymbol":135}],119:[function(t,e,n){var r=Function.prototype.toString;e.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},{}],120:[function(t,e,n){var r=/\s/;e.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},{}],121:[function(t,e,n){e.exports=function(t,e){return t===e||t!=t&&e!=e}},{}],122:[function(t,e,n){t=t("./_createFind")(t("./findIndex"));e.exports=t},{"./_createFind":65,"./findIndex":123}],123:[function(t,e,n){var o=t("./_baseFindIndex"),a=t("./_baseIteratee"),i=t("./toInteger"),c=Math.max;e.exports=function(t,e,n){var r=null==t?0:t.length;return r?((n=null==n?0:i(n))<0&&(n=c(r+n,0)),o(t,a(e,3),n)):-1}},{"./_baseFindIndex":41,"./_baseIteratee":52,"./toInteger":143}],124:[function(t,e,n){var r=t("./_baseGet");e.exports=function(t,e,n){return void 0===(t=null==t?void 0:r(t,e))?n:t}},{"./_baseGet":42}],125:[function(t,e,n){var r=t("./_baseHasIn"),o=t("./_hasPath");e.exports=function(t,e){return null!=t&&o(t,e,r)}},{"./_baseHasIn":45,"./_hasPath":78}],126:[function(t,e,n){e.exports=function(t){return t}},{}],127:[function(t,e,n){var r=t("./_baseIsArguments"),o=t("./isObjectLike"),t=Object.prototype,a=t.hasOwnProperty,i=t.propertyIsEnumerable,t=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!i.call(t,"callee")};e.exports=t},{"./_baseIsArguments":46,"./isObjectLike":134}],128:[function(t,e,n){var r=Array.isArray;e.exports=r},{}],129:[function(t,e,n){var r=t("./isFunction"),o=t("./isLength");e.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},{"./isFunction":131,"./isLength":132}],130:[function(t,e,n){var r=t("./_root"),t=t("./stubFalse"),n="object"==typeof n&&n&&!n.nodeType&&n,o=n&&"object"==typeof e&&e&&!e.nodeType&&e,o=o&&o.exports===n?r.Buffer:void 0,n=o?o.isBuffer:void 0;e.exports=n||t},{"./_root":108,"./stubFalse":141}],131:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObject");e.exports=function(t){return!!o(t)&&("[object Function]"==(t=r(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}},{"./_baseGetTag":44,"./isObject":133}],132:[function(t,e,n){e.exports=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}},{}],133:[function(t,e,n){e.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},{}],134:[function(t,e,n){e.exports=function(t){return null!=t&&"object"==typeof t}},{}],135:[function(t,e,n){var r=t("./_baseGetTag"),o=t("./isObjectLike");e.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},{"./_baseGetTag":44,"./isObjectLike":134}],136:[function(t,e,n){var r=t("./_baseIsTypedArray"),o=t("./_baseUnary"),t=t("./_nodeUtil"),t=t&&t.isTypedArray,o=t?o(t):r;e.exports=o},{"./_baseIsTypedArray":51,"./_baseUnary":61,"./_nodeUtil":105}],137:[function(t,e,n){var r=t("./_arrayLikeKeys"),o=t("./_baseKeys"),a=t("./isArrayLike");e.exports=function(t){return(a(t)?r:o)(t)}},{"./_arrayLikeKeys":36,"./_baseKeys":53,"./isArrayLike":129}],138:[function(t,e,n){var i=t("./_MapCache");function c(r,o){if("function"!=typeof r||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function a(){var t=arguments,e=o?o.apply(this,t):t[0],n=a.cache;return n.has(e)?n.get(e):(t=r.apply(this,t),a.cache=n.set(e,t)||n,t)}return a.cache=new(c.Cache||i),a}c.Cache=i,e.exports=c},{"./_MapCache":27}],139:[function(t,e,n){var r=t("./_baseProperty"),o=t("./_basePropertyDeep"),a=t("./_isKey"),i=t("./_toKey");e.exports=function(t){return a(t)?r(i(t)):o(t)}},{"./_baseProperty":56,"./_basePropertyDeep":57,"./_isKey":85,"./_toKey":118}],140:[function(t,e,n){e.exports=function(){return[]}},{}],141:[function(t,e,n){e.exports=function(){return!1}},{}],142:[function(t,e,n){var r=t("./toNumber");e.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},{"./toNumber":144}],143:[function(t,e,n){var r=t("./toFinite");e.exports=function(t){var e=(t=r(t))%1;return t==t?e?t-e:t:0}},{"./toFinite":142}],144:[function(t,e,n){var r=t("./_baseTrim"),o=t("./isObject"),a=t("./isSymbol"),i=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.exports=function(t){if("number"==typeof t)return t;if(a(t))return NaN;if(o(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=o(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=r(t);var e=c.test(t);return e||u.test(t)?s(t.slice(2),e?2:8):i.test(t)?NaN:+t}},{"./_baseTrim":60,"./isObject":133,"./isSymbol":135}],145:[function(t,e,n){var r=t("./_baseToString");e.exports=function(t){return null==t?"":r(t)}},{"./_baseToString":59}]},{},[6]);
//# sourceMappingURL=main-7a61d952.js.map
